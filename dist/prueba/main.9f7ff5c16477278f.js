"use strict";(self.webpackChunkPrueba=self.webpackChunkPrueba||[]).push([[179],{649:()=>{function Se(t){return"function"==typeof t}function Zu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ph=Zu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function xo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class fn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Se(r))try{r()}catch(s){e=s instanceof ph?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{ub(s)}catch(o){e=e??[],o instanceof ph?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ph(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ub(e);else{if(e instanceof fn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&xo(n,e)}remove(e){const{_finalizers:n}=this;n&&xo(n,e),e instanceof fn&&e._removeParent(this)}}fn.EMPTY=(()=>{const t=new fn;return t.closed=!0,t})();const ob=fn.EMPTY;function ab(t){return t instanceof fn||t&&"closed"in t&&Se(t.remove)&&Se(t.add)&&Se(t.unsubscribe)}function ub(t){Se(t)?t():t.unsubscribe()}const ws={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},gh={setTimeout(t,e,...n){const{delegate:r}=gh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=gh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function cb(t){gh.setTimeout(()=>{const{onUnhandledError:e}=ws;if(!e)throw t;e(t)})}function i_(){}const Fj=s_("C",void 0,void 0);function s_(t,e,n){return{kind:t,value:e,error:n}}let Cs=null;function mh(t){if(ws.useDeprecatedSynchronousErrorHandling){const e=!Cs;if(e&&(Cs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Cs;if(Cs=null,n)throw r}}else t()}class o_ extends fn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ab(e)&&e.add(this)):this.destination=Gj}static create(e,n,r){return new Ju(e,n,r)}next(e){this.isStopped?u_(function Vj(t){return s_("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?u_(function Lj(t){return s_("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?u_(Fj,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Bj=Function.prototype.bind;function a_(t,e){return Bj.call(t,e)}class $j{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){_h(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){_h(r)}else _h(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){_h(n)}}}class Ju extends o_{constructor(e,n,r){let i;if(super(),Se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ws.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&a_(e.next,s),error:e.error&&a_(e.error,s),complete:e.complete&&a_(e.complete,s)}):i=e}this.destination=new $j(i)}}function _h(t){ws.useDeprecatedSynchronousErrorHandling?function Uj(t){ws.useDeprecatedSynchronousErrorHandling&&Cs&&(Cs.errorThrown=!0,Cs.error=t)}(t):cb(t)}function u_(t,e){const{onStoppedNotification:n}=ws;n&&gh.setTimeout(()=>n(t,e))}const Gj={closed:!0,next:i_,error:function jj(t){throw t},complete:i_},c_="function"==typeof Symbol&&Symbol.observable||"@@observable";function Si(t){return t}function lb(t){return 0===t.length?Si:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let tt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Wj(t){return t&&t instanceof o_||function zj(t){return t&&Se(t.next)&&Se(t.error)&&Se(t.complete)}(t)&&ab(t)}(n)?n:new Ju(n,r,i);return mh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=db(r))((i,s)=>{const o=new Ju({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[c_](){return this}pipe(...n){return lb(n)(this)}toPromise(n){return new(n=db(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function db(t){var e;return null!==(e=t??ws.Promise)&&void 0!==e?e:Promise}const qj=Zu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Zn=(()=>{class t extends tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new hb(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new qj}next(n){mh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){mh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){mh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ob:(this.currentObservers=null,s.push(n),new fn(()=>{this.currentObservers=null,xo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new tt;return n.source=this,n}}return t.create=(e,n)=>new hb(e,n),t})();class hb extends Zn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:ob}}function fb(t){return Se(t?.lift)}function ft(t){return e=>{if(fb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(t,e,n,r,i){return new Kj(t,e,n,r,i)}class Kj extends o_{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ne(t,e){return ft((n,r)=>{let i=0;n.subscribe(pt(r,s=>{r.next(t.call(e,s,i++))}))})}function h_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function bi(t){return this instanceof bi?(this.v=t,this):new bi(t)}function _b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function p_(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const yb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function vb(t){return Se(t?.then)}function Ib(t){return Se(t[c_])}function Eb(t){return Symbol.asyncIterator&&Se(t?.[Symbol.asyncIterator])}function Tb(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const wb=function gG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Cb(t){return Se(t?.[wb])}function Db(t){return function mb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof bi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield bi(n.read());if(i)return yield bi(void 0);yield yield bi(r)}}finally{n.releaseLock()}})}function Ab(t){return Se(t?.getReader)}function Ln(t){if(t instanceof tt)return t;if(null!=t){if(Ib(t))return function mG(t){return new tt(e=>{const n=t[c_]();if(Se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(yb(t))return function _G(t){return new tt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(vb(t))return function yG(t){return new tt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,cb)})}(t);if(Eb(t))return Sb(t);if(Cb(t))return function vG(t){return new tt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Ab(t))return function IG(t){return Sb(Db(t))}(t)}throw Tb(t)}function Sb(t){return new tt(e=>{(function EG(t,e){var n,r,i,s;return function pb(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=_b(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Wr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function bt(t,e,n=1/0){return Se(e)?bt((r,i)=>Ne((s,o)=>e(r,s,i,o))(Ln(t(r,i))),n):("number"==typeof e&&(n=e),ft((r,i)=>function TG(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;Ln(n(g,l++)).subscribe(pt(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const v=u.shift();o?Wr(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(pt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Mo(t=1/0){return bt(Si,t)}const mr=new tt(t=>t.complete());function g_(t){return t[t.length-1]}function ec(t){return function CG(t){return t&&Se(t.schedule)}(g_(t))?t.pop():void 0}function yh(t,e=0){return ft((n,r)=>{n.subscribe(pt(r,i=>Wr(r,t,()=>r.next(i),e),()=>Wr(r,t,()=>r.complete(),e),i=>Wr(r,t,()=>r.error(i),e)))})}function vh(t,e=0){return ft((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function bb(t,e){if(!t)throw new Error("Iterable cannot be null");return new tt(n=>{Wr(n,e,()=>{const r=t[Symbol.asyncIterator]();Wr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Rt(t,e){return e?function xG(t,e){if(null!=t){if(Ib(t))return function SG(t,e){return Ln(t).pipe(vh(e),yh(e))}(t,e);if(yb(t))return function RG(t,e){return new tt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(vb(t))return function bG(t,e){return Ln(t).pipe(vh(e),yh(e))}(t,e);if(Eb(t))return bb(t,e);if(Cb(t))return function PG(t,e){return new tt(n=>{let r;return Wr(n,e,()=>{r=t[wb](),Wr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Se(r?.return)&&r.return()})}(t,e);if(Ab(t))return function NG(t,e){return bb(Db(t),e)}(t,e)}throw Tb(t)}(t,e):Ln(t)}class Vn extends Zn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function q(...t){return Rt(t,ec(t))}function Rb(t={}){const{connector:e=(()=>new Zn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return ft((g,m)=>{c++,!d&&!l&&h();const v=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=m_(p,i))}),v.subscribe(m),!o&&c>0&&(o=new Ju({next:_=>v.next(_),error:_=>{d=!0,h(),a=m_(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=m_(f,r),v.complete()}}),Ln(g).subscribe(o))})(s)}}function m_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ju({next:()=>{r.unsubscribe(),t()}});return Ln(e(...n)).subscribe(r)}function _r(t,e){return ft((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(pt(r,u=>{i?.unsubscribe();let c=0;const l=s++;Ln(t(u,l)).subscribe(i=pt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function OG(t,e){return t===e}function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function gt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(gt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function __(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const FG=Te({__forward_ref__:Te});function y_(t){return t.__forward_ref__=y_,t.toString=function(){return gt(this())},t}function W(t){return v_(t)?t():t}function v_(t){return"function"==typeof t&&t.hasOwnProperty(FG)&&t.__forward_ref__===y_}function I_(t){return t&&!!t.\u0275providers}class A extends Error{constructor(e,n){super(function Eh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Q(t){return"string"==typeof t?t:null==t?"":String(t)}function E_(t,e){throw new A(-201,!1)}function Un(t,e){null==t&&function H(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Th(t){return Nb(t,Ch)||Nb(t,xb)}function Nb(t,e){return t.hasOwnProperty(e)?t[e]:null}function wh(t){return t&&(t.hasOwnProperty(T_)||t.hasOwnProperty(HG))?t[T_]:null}const Ch=Te({\u0275prov:Te}),T_=Te({\u0275inj:Te}),xb=Te({ngInjectableDef:Te}),HG=Te({ngInjectorDef:Te});var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{});let w_;function pn(t){const e=w_;return w_=t,e}function kb(t,e,n){const r=Th(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&oe.Optional?null:void 0!==e?e:void E_(gt(t))}const xe=globalThis;class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const tc={},b_="__NG_DI_FLAG__",Dh="ngTempTokenPath",qG=/\n/gm,Fb="__source";let ko;function Ri(t){const e=ko;return ko=t,e}function YG(t,e=oe.Default){if(void 0===ko)throw new A(-203,!1);return null===ko?kb(t,void 0,e):ko.get(t,e&oe.Optional?null:void 0,e)}function B(t,e=oe.Default){return(function Mb(){return w_}()||YG)(W(t),e)}function F(t,e=oe.Default){return B(t,Ah(e))}function Ah(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function R_(t){const e=[];for(let n=0;n<t.length;n++){const r=W(t[n]);if(Array.isArray(r)){if(0===r.length)throw new A(900,!1);let i,s=oe.Default;for(let o=0;o<r.length;o++){const a=r[o],u=XG(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function nc(t,e){return t[b_]=e,t.prototype[b_]=e,t}function XG(t){return t[b_]}function qr(t){return{toString:t}.toString()}var Sh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Sh||{}),er=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(er||{});const yr={},fe=[],bh=Te({\u0275cmp:Te}),P_=Te({\u0275dir:Te}),N_=Te({\u0275pipe:Te}),Vb=Te({\u0275mod:Te}),Kr=Te({\u0275fac:Te}),rc=Te({__NG_ELEMENT_ID__:Te}),Ub=Te({__NG_ENV_ID__:Te});function Bb(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function x_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];jb(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function $b(t){return 3===t||4===t||6===t}function jb(t){return 64===t.charCodeAt(0)}function ic(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Gb(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Gb(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Hb="ng-template";function eH(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Bb(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function zb(t){return 4===t.type&&t.value!==Hb}function tH(t,e,n){return e===(4!==t.type||n?t.value:Hb)}function nH(t,e,n){let r=4;const i=t.attrs||[],s=function sH(t){for(let e=0;e<t.length;e++)if($b(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!tH(t,u,n)||""===u&&1===e.length){if(tr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!eH(t.attrs,c,n)){if(tr(r))return!1;o=!0}continue}const d=rH(8&r?"class":u,i,zb(t),n);if(-1===d){if(tr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Bb(f,c,0)||2&r&&c!==h){if(tr(r))return!1;o=!0}}}}else{if(!o&&!tr(r)&&!tr(u))return!1;if(o&&tr(u))continue;o=!1,r=u|1&r}}return tr(r)||o}function tr(t){return 0==(1&t)}function rH(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function oH(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Wb(t,e,n=!1){for(let r=0;r<e.length;r++)if(nH(t,e[r],n))return!0;return!1}function qb(t,e){return t?":not("+e.trim()+")":e}function uH(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!tr(o)&&(e+=qb(s,i),i=""),r=o,s=s||!tr(r);n++}return""!==i&&(e+=qb(s,i)),e}function Rh(t){return qr(()=>{const e=Qb(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Sh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||er.Emulated,styles:t.styles||fe,_:null,schemas:t.schemas||null,tView:null,id:""};Yb(n);const r=t.dependencies;return n.directiveDefs=Ph(r,!1),n.pipeDefs=Ph(r,!0),n.id=function mH(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function hH(t){return ce(t)||Pt(t)}function fH(t){return null!==t}function vr(t){return qr(()=>({type:t.type,bootstrap:t.bootstrap||fe,declarations:t.declarations||fe,imports:t.imports||fe,exports:t.exports||fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Kb(t,e){if(null==t)return yr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Xt(t){return qr(()=>{const e=Qb(t);return Yb(e),e})}function ce(t){return t[bh]||null}function Pt(t){return t[P_]||null}function Zt(t){return t[N_]||null}function An(t,e){const n=t[Vb]||null;if(!n&&!0===e)throw new Error(`Type ${gt(t)} does not have '\u0275mod' property.`);return n}function Qb(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||yr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||fe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Kb(t.inputs,e),outputs:Kb(t.outputs)}}function Yb(t){t.features?.forEach(e=>e(t))}function Ph(t,e){if(!t)return null;const n=e?Zt:hH;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(fH)}const Xe=0,x=1,J=2,He=3,nr=4,sc=5,Bt=6,Fo=7,nt=8,Pi=9,Lo=10,Y=11,oc=12,Xb=13,Vo=14,rt=15,ac=16,Uo=17,Ir=18,uc=19,Zb=20,Ni=21,Qr=22,cc=23,lc=24,ae=25,M_=1,Jb=2,Er=7,Bo=9,Nt=11;function mn(t){return Array.isArray(t)&&"object"==typeof t[M_]}function Jt(t){return Array.isArray(t)&&!0===t[M_]}function k_(t){return 0!=(4&t.flags)}function As(t){return t.componentOffset>-1}function xh(t){return 1==(1&t.flags)}function rr(t){return!!t.template}function O_(t){return 0!=(512&t[J])}function Ss(t,e){return t.hasOwnProperty(Kr)?t[Kr]:null}let xt=null,Mh=!1;function Bn(t){const e=xt;return xt=t,e}const n0={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function s0(t){if(!hc(t)||t.dirty){if(!t.producerMustRecompute(t)&&!u0(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function a0(t){t.dirty=!0,function o0(t){if(void 0===t.liveConsumerNode)return;const e=Mh;Mh=!0;try{for(const n of t.liveConsumerNode)n.dirty||a0(n)}finally{Mh=e}}(t),t.consumerMarkedDirty?.(t)}function L_(t){return t&&(t.nextProducerIndex=0),Bn(t)}function V_(t,e){if(Bn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(hc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)kh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function u0(t){$o(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(s0(n),r!==n.version))return!0}return!1}function c0(t){if($o(t),hc(t))for(let e=0;e<t.producerNode.length;e++)kh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function kh(t,e){if(function d0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),$o(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)kh(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];$o(i),i.producerIndexOfThis[r]=e}}function hc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $o(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let h0=null;const m0=()=>{},RH=(()=>({...n0,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:m0}))();class PH{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function bs(){return _0}function _0(t){return t.type.prototype.ngOnChanges&&(t.setInput=xH),NH}function NH(){const t=v0(this),e=t?.current;if(e){const n=t.previous;if(n===yr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function xH(t,e,n,r){const i=this.declaredInputs[n],s=v0(t)||function MH(t,e){return t[y0]=e}(t,{previous:yr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new PH(u&&u.currentValue,e,a===yr),t[r]=e}bs.ngInherit=!0;const y0="__ngSimpleChanges__";function v0(t){return t[y0]||null}const Tr=function(t,e,n){};function Me(t){for(;Array.isArray(t);)t=t[Xe];return t}function _n(t,e){return Me(e[t.index])}function T0(t,e){return t.data[e]}function Sn(t,e){const n=e[t];return mn(n)?n:n[Xe]}function Mi(t,e){return null==e?null:t[e]}function w0(t){t[Uo]=0}function UH(t){1024&t[J]||(t[J]|=1024,D0(t,1))}function C0(t){1024&t[J]&&(t[J]&=-1025,D0(t,-1))}function D0(t,e){let n=t[He];if(null===n)return;n[sc]+=e;let r=n;for(n=n[He];null!==n&&(1===e&&1===r[sc]||-1===e&&0===r[sc]);)n[sc]+=e,r=n,n=n[He]}const z={lFrame:F0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function b0(){return z.bindingsEnabled}function T(){return z.lFrame.lView}function le(){return z.lFrame.tView}function Mt(){let t=R0();for(;null!==t&&64===t.type;)t=t.parent;return t}function R0(){return z.lFrame.currentTNode}function wr(t,e){const n=z.lFrame;n.currentTNode=t,n.isParent=e}function G_(){return z.lFrame.isParent}function JH(t,e){const n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,z_(e)}function z_(t){z.lFrame.currentDirectiveIndex=t}function q_(t){z.lFrame.currentQueryIndex=t}function tz(t){const e=t[x];return 2===e.type?e.declTNode:1===e.type?t[Bt]:null}function k0(t,e,n){if(n&oe.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&oe.Host||(i=tz(s),null===i||(s=s[Vo],10&i.type))););if(null===i)return!1;e=i,t=s}const r=z.lFrame=O0();return r.currentTNode=e,r.lView=t,!0}function K_(t){const e=O0(),n=t[x];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function O0(){const t=z.lFrame,e=null===t?null:t.child;return null===e?F0(t):e}function F0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function L0(){const t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const V0=L0;function Q_(){const t=L0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tn(){return z.lFrame.selectedIndex}function Rs(t){z.lFrame.selectedIndex=t}let B0=!0;function Fh(){return B0}function ki(t){B0=t}function Lh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Vh(t,e,n){$0(t,e,3,n)}function Uh(t,e,n,r){(3&t[J])===n&&$0(t,e,n,r)}function Y_(t,e){let n=t[J];(3&n)===e&&(n&=8191,n+=1,t[J]=n)}function $0(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Uo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Uo]+=65536),(a<s||-1==s)&&(cz(t,n,e,u),t[Uo]=(4294901760&t[Uo])+u+2),u++}function j0(t,e){Tr(4,t,e);const n=Bn(null);try{e.call(t)}finally{Bn(n),Tr(5,t,e)}}function cz(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[J]>>13<t[Uo]>>16&&(3&t[J])===e&&(t[J]+=8192,j0(a,s)):j0(a,s)}const zo=-1;class pc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Z_(t){return t!==zo}function gc(t){return 32767&t}function mc(t,e){let n=function fz(t){return t>>16}(t),r=e;for(;n>0;)r=r[Vo],n--;return r}let J_=!0;function Bh(t){const e=J_;return J_=t,e}const G0=255,H0=5;let pz=0;const Cr={};function $h(t,e){const n=z0(t,e);if(-1!==n)return n;const r=e[x];r.firstCreatePass&&(t.injectorIndex=e.length,ey(r.data,t),ey(e,null),ey(r.blueprint,null));const i=jh(t,e),s=t.injectorIndex;if(Z_(i)){const o=gc(i),a=mc(i,e),u=a[x].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function ey(t,e){t.push(0,0,0,0,0,0,0,0,e)}function z0(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function jh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=J0(i),null===r)return zo;if(n++,i=i[Vo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return zo}function ty(t,e,n){!function gz(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(rc)&&(r=n[rc]),null==r&&(r=n[rc]=pz++);const i=r&G0;e.data[t+(i>>H0)]|=1<<i}(t,e,n)}function W0(t,e,n){if(n&oe.Optional||void 0!==t)return t;E_()}function q0(t,e,n,r){if(n&oe.Optional&&void 0===r&&(r=null),!(n&(oe.Self|oe.Host))){const i=t[Pi],s=pn(void 0);try{return i?i.get(e,r,n&oe.Optional):kb(e,r,n&oe.Optional)}finally{pn(s)}}return W0(r,0,n)}function K0(t,e,n,r=oe.Default,i){if(null!==t){if(2048&e[J]&&!(r&oe.Self)){const o=function Ez(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[J]&&!(512&o[J]);){const a=Q0(s,o,n,r|oe.Self,Cr);if(a!==Cr)return a;let u=s.parent;if(!u){const c=o[Zb];if(c){const l=c.get(n,Cr,r);if(l!==Cr)return l}u=J0(o),o=o[Vo]}s=u}return i}(t,e,n,r,Cr);if(o!==Cr)return o}const s=Q0(t,e,n,r,Cr);if(s!==Cr)return s}return q0(e,n,r,i)}function Q0(t,e,n,r,i){const s=function yz(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(rc)?t[rc]:void 0;return"number"==typeof e?e>=0?e&G0:Iz:e}(n);if("function"==typeof s){if(!k0(e,t,r))return r&oe.Host?W0(i,0,r):q0(e,n,r,i);try{let o;if(o=s(r),null!=o||r&oe.Optional)return o;E_()}finally{V0()}}else if("number"==typeof s){let o=null,a=z0(t,e),u=zo,c=r&oe.Host?e[rt][Bt]:null;for((-1===a||r&oe.SkipSelf)&&(u=-1===a?jh(t,e):e[a+8],u!==zo&&X0(r,!1)?(o=e[x],a=gc(u),e=mc(u,e)):a=-1);-1!==a;){const l=e[x];if(Y0(s,a,l.data)){const d=_z(a,e,n,o,r,c);if(d!==Cr)return d}u=e[a+8],u!==zo&&X0(r,e[x].data[a+8]===c)&&Y0(s,a,e)?(o=l,a=gc(u),e=mc(u,e)):a=-1}}return i}function _z(t,e,n,r,i,s){const o=e[x],a=o.data[t+8],l=function Gh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&rr(f)&&f.type===n)return u}return null}(a,o,n,null==r?As(a)&&J_:r!=o&&0!=(3&a.type),i&oe.Host&&s===a);return null!==l?Ps(e,o,l,a):Cr}function Ps(t,e,n,r){let i=t[n];const s=e.data;if(function lz(t){return t instanceof pc}(i)){const o=i;o.resolving&&function LG(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ve(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Q(t)}(s[n]));const a=Bh(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?pn(o.injectImpl):null;k0(t,r,oe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function uz(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=_0(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&pn(c),Bh(a),o.resolving=!1,V0()}}return i}function Y0(t,e,n){return!!(n[e+(t>>H0)]&1<<t)}function X0(t,e){return!(t&oe.Self||t&oe.Host&&e)}class nn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return K0(this._tNode,this._lView,e,Ah(r),n)}}function Iz(){return new nn(Mt(),T())}function ny(t){return v_(t)?()=>{const e=ny(W(t));return e&&e()}:Ss(t)}function J0(t){const e=t[x],n=e.type;return 2===n?e.declTNode:1===n?t[Bt]:null}const qo="__parameters__";function Qo(t,e,n){return qr(()=>{const r=function ry(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(qo)?u[qo]:Object.defineProperty(u,qo,{value:[]})[qo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Xo(t,e){t.forEach(n=>Array.isArray(n)?Xo(n,e):e(n))}function tR(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const $t=nc(Qo("Optional"),8),qh=nc(Qo("SkipSelf"),4);function Zh(t){return 128==(128&t.flags)}var Oi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Oi||{});const cy=new Map;let Zz=0;const dy="__ngContext__";function jt(t,e){mn(e)?(t[dy]=e[uc],function eW(t){cy.set(t[uc],t)}(e)):t[dy]=e}let hy;function fy(t,e){return hy(t,e)}function Tc(t){const e=t[He];return Jt(e)?e[He]:e}function TR(t){return CR(t[oc])}function wR(t){return CR(t[nr])}function CR(t){for(;null!==t&&!Jt(t);)t=t[nr];return t}function ta(t,e,n,r,i){if(null!=r){let s,o=!1;Jt(r)?s=r:mn(r)&&(o=!0,r=r[Xe]);const a=Me(r);0===t&&null!==n?null==i?bR(e,n,a):Ns(e,n,a,i||null,!0):1===t&&null!==n?Ns(e,n,a,i||null,!0):2===t?function af(t,e,n){const r=rf(t,e);r&&function vW(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function TW(t,e,n,r,i){const s=n[Er];s!==Me(n)&&ta(e,t,r,s,i);for(let a=Nt;a<n.length;a++){const u=n[a];Cc(u[x],u,t,e,r,s)}}(e,t,s,n,i)}}function tf(t,e,n){return t.createElement(e,n)}function AR(t,e){const n=t[Bo],r=n.indexOf(e);C0(e),n.splice(r,1)}function nf(t,e){if(t.length<=Nt)return;const n=Nt+e,r=t[n];if(r){const i=r[ac];null!==i&&i!==t&&AR(i,r),e>0&&(t[n-1][nr]=r[nr]);const s=zh(t,Nt+e);!function dW(t,e){Cc(t,e,e[Y],2,null,null),e[Xe]=null,e[Bt]=null}(r[x],r);const o=s[Ir];null!==o&&o.detachView(s[x]),r[He]=null,r[nr]=null,r[J]&=-129}return r}function gy(t,e){if(!(256&e[J])){const n=e[Y];e[cc]&&c0(e[cc]),e[lc]&&c0(e[lc]),n.destroyNode&&Cc(t,e,n,3,null,null),function pW(t){let e=t[oc];if(!e)return my(t[x],t);for(;e;){let n=null;if(mn(e))n=e[oc];else{const r=e[Nt];r&&(n=r)}if(!n){for(;e&&!e[nr]&&e!==t;)mn(e)&&my(e[x],e),e=e[He];null===e&&(e=t),mn(e)&&my(e[x],e),n=e&&e[nr]}e=n}}(e)}}function my(t,e){if(!(256&e[J])){e[J]&=-129,e[J]|=256,function yW(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof pc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Tr(4,a,u);try{u.call(a)}finally{Tr(5,a,u)}}else{Tr(4,i,s);try{s.call(i)}finally{Tr(5,i,s)}}}}}(t,e),function _W(t,e){const n=t.cleanup,r=e[Fo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Fo]=null);const i=e[Ni];if(null!==i){e[Ni]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[x].type&&e[Y].destroy();const n=e[ac];if(null!==n&&Jt(e[He])){n!==e[He]&&AR(n,e);const r=e[Ir];null!==r&&r.detachView(t)}!function tW(t){cy.delete(t[uc])}(e)}}function _y(t,e,n){return function SR(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Xe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===er.None||s===er.Emulated)return null}return _n(r,n)}}(t,e.parent,n)}function Ns(t,e,n,r,i){t.insertBefore(e,n,r,i)}function bR(t,e,n){t.appendChild(e,n)}function RR(t,e,n,r,i){null!==r?Ns(t,e,n,r,i):bR(t,e,n)}function rf(t,e){return t.parentNode(e)}let yy,Ty,xR=function NR(t,e,n){return 40&t.type?_n(t,n):null};function sf(t,e,n,r){const i=_y(t,r,e),s=e[Y],a=function PR(t,e,n){return xR(t,e,n)}(r.parent||e[Bt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)RR(s,i,n[u],a,!1);else RR(s,i,n,a,!1);void 0!==yy&&yy(s,r,e,n,i)}function wc(t,e){if(null!==e){const n=e.type;if(3&n)return _n(e,t);if(4&n)return vy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return wc(t,r);{const i=t[e.index];return Jt(i)?vy(-1,i):Me(i)}}if(32&n)return fy(e,t)()||Me(t[e.index]);{const r=kR(t,e);return null!==r?Array.isArray(r)?r[0]:wc(Tc(t[rt]),r):wc(t,e.next)}}return null}function kR(t,e){return null!==e?t[rt][Bt].projection[e.projection]:null}function vy(t,e){const n=Nt+t+1;if(n<e.length){const r=e[n],i=r[x].firstChild;if(null!==i)return wc(r,i)}return e[Er]}function Iy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&jt(Me(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Iy(t,e,n.child,r,i,s,!1),ta(e,t,i,a,s);else if(32&u){const c=fy(n,r);let l;for(;l=c();)ta(e,t,i,l,s);ta(e,t,i,a,s)}else 16&u?FR(t,e,r,n,i,s):ta(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Cc(t,e,n,r,i,s){Iy(n,r,t.firstChild,e,i,s,!1)}function FR(t,e,n,r,i,s){const o=n[rt],u=o[Bt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ta(e,t,i,u[c],s);else{let c=u;const l=o[He];Zh(r)&&(c.flags|=128),Iy(t,e,c,l,i,s,!0)}}function LR(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VR(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&x_(t,e,r),null!==i&&LR(t,e,i),null!==s&&function CW(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}const bc=new L("ENVIRONMENT_INITIALIZER"),ZR=new L("INJECTOR",-1),JR=new L("INJECTOR_DEF_TYPES");class by{get(e,n=tc){if(n===tc){const r=new Error(`NullInjectorError: No provider for ${gt(e)}!`);throw r.name="NullInjectorError",r}return n}}function XW(...t){return{\u0275providers:tP(0,t),\u0275fromNgModule:!0}}function tP(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Xo(e,o=>{const a=o;df(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&nP(i,s),n}function nP(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Ry(i,s=>{e(s,r)})}}function df(t,e,n,r){if(!(t=W(t)))return!1;let i=null,s=wh(t);const o=!s&&ce(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=wh(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)df(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Xo(s.imports,l=>{df(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&nP(c,e)}if(!a){const c=Ss(i)||(()=>new i);e({provide:i,useFactory:c,deps:fe},i),e({provide:JR,useValue:i,multi:!0},i),e({provide:bc,useValue:()=>B(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;Ry(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function Ry(t,e){for(let n of t)I_(n)&&(n=n.\u0275providers),Array.isArray(n)?Ry(n,e):e(n)}const ZW=Te({provide:String,useValue:Te});function Py(t){return null!==t&&"object"==typeof t&&ZW in t}function xs(t){return"function"==typeof t}const Ny=new L("Set Injector scope."),hf={},e4={};let xy;function ff(){return void 0===xy&&(xy=new by),xy}class jn{}class sa extends jn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ky(e,o=>this.processProvider(o)),this.records.set(ZR,oa(void 0,this)),i.has("environment")&&this.records.set(jn,oa(void 0,this));const s=this.records.get(Ny);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(JR.multi,fe,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ri(this),r=pn(void 0);try{return e()}finally{Ri(n),pn(r)}}get(e,n=tc,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ub))return e[Ub](this);r=Ah(r);const s=Ri(this),o=pn(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function s4(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&Th(e);u=c&&this.injectableDefInScope(c)?oa(My(e),hf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&oe.Self?ff():this.parent).get(e,n=r&oe.Optional&&n===tc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Dh]=a[Dh]||[]).unshift(gt(e)),s)throw a;return function ZG(t,e,n,r){const i=t[Dh];throw e[Fb]&&i.unshift(e[Fb]),t.message=function JG(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=gt(e);if(Array.isArray(e))i=e.map(gt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):gt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(qG,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Dh]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{pn(o),Ri(s)}}resolveInjectorInitializers(){const e=Ri(this),n=pn(void 0);try{const i=this.get(bc.multi,fe,oe.Self);for(const s of i)s()}finally{Ri(e),pn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(gt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){let n=xs(e=W(e))?e:W(e&&e.provide);const r=function n4(t){return Py(t)?oa(void 0,t.useValue):oa(function sP(t,e,n){let r;if(xs(t)){const i=W(t);return Ss(i)||My(i)}if(Py(t))r=()=>W(t.useValue);else if(function iP(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...R_(t.deps||[]));else if(function rP(t){return!(!t||!t.useExisting)}(t))r=()=>B(W(t.useExisting));else{const i=W(t&&(t.useClass||t.provide));if(!function r4(t){return!!t.deps}(t))return Ss(i)||My(i);r=()=>new i(...R_(t.deps))}return r}(t),hf)}(e);if(xs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=oa(void 0,hf,!0),i.factory=()=>R_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===hf&&(n.value=e4,n.value=n.factory()),"object"==typeof n.value&&n.value&&function i4(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=W(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function My(t){const e=Th(t),n=null!==e?e.factory:Ss(t);if(null!==n)return n;if(t instanceof L)throw new A(204,!1);if(t instanceof Function)return function t4(t){const e=t.length;if(e>0)throw function vc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new A(204,!1);const n=function GG(t){return t&&(t[Ch]||t[xb])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new A(204,!1)}function oa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ky(t,e){for(const n of t)Array.isArray(n)?ky(n,e):n&&I_(n)?ky(n.\u0275providers,e):e(n)}const pf=new L("AppId",{providedIn:"root",factory:()=>o4}),o4="ng",oP=new L("Platform Initializer"),Ms=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aP=new L("CSP nonce",{providedIn:"root",factory:()=>function ra(){if(void 0!==Ty)return Ty;if(typeof document<"u")return document;throw new A(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let uP=(t,e,n)=>null;function jy(t,e,n=!1){return uP(t,e,n)}class m4{}class dP{}class y4{resolveComponentFactory(e){throw function _4(t){const e=Error(`No component factory found for ${gt(t)}.`);return e.ngComponent=t,e}(e)}}let If=(()=>{class t{static#e=this.NULL=new y4}return t})();function v4(){return ca(Mt(),T())}function ca(t,e){return new Li(_n(t,e))}let Li=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=v4}return t})();class fP{}let T4=(()=>{class t{static#e=this.\u0275prov=$({token:t,providedIn:"root",factory:()=>null})}return t})();class Nc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pP=new Nc("16.2.12"),zy={};function yP(t,e=null,n=null,r){const i=vP(t,e,n,r);return i.resolveInjectorInitializers(),i}function vP(t,e=null,n=null,r,i=new Set){const s=[n||fe,XW(t)];return r=r||("object"==typeof t?void 0:gt(t)),new sa(s,e||ff(),r||null,i)}let rn=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=tc;static#t=this.NULL=new by;static create(n,r){if(Array.isArray(n))return yP({name:""},r,n,"");{const i=n.name??"";return yP({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=$({token:t,providedIn:"any",factory:()=>B(ZR)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function qy(t){return t.ngOriginalError}class Jr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&qy(e);for(;n&&qy(n);)n=qy(n);return n||null}}function Qy(t){return e=>{setTimeout(t,void 0,e)}}const sn=class R4 extends Zn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Qy(s),i&&(i=Qy(i)),o&&(o=Qy(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof fn&&e.add(a),a}};function EP(...t){}class Ie{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sn(!1),this.onMicrotaskEmpty=new sn(!1),this.onStable=new sn(!1),this.onError=new sn(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function P4(){const t="function"==typeof xe.requestAnimationFrame;let e=xe[t?"requestAnimationFrame":"setTimeout"],n=xe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function M4(t){const e=()=>{!function x4(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Xy(t),t.isCheckStableRunning=!0,Yy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Xy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function O4(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return TP(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),wP(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return TP(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),wP(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Xy(t),Yy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ie.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(Ie.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,N4,EP,EP);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const N4={};function Yy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Xy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function TP(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wP(t){t._nesting--,Yy(t)}class k4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sn,this.onMicrotaskEmpty=new sn,this.onStable=new sn,this.onError=new sn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const CP=new L("",{providedIn:"root",factory:DP});function DP(){const t=F(Ie);let e=!0;return function MG(...t){const e=ec(t),n=function AG(t,e){return"number"==typeof g_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Ln(r[0]):Mo(n)(Rt(r,e)):mr}(new tt(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new tt(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Rb()))}function ei(t){return t instanceof Function?t():t}let Zy=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})();function xc(t){for(;t;){t[J]|=64;const e=Tc(t);if(O_(t)&&!e)return t;t=e}return null}const PP=new L("",{providedIn:"root",factory:()=>!1});let wf=null;function kP(t,e){return t[e]??LP()}function OP(t,e){const n=LP();n.producerNode?.length&&(t[e]=wf,n.lView=t,wf=FP())}const z4={...n0,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xc(t.lView)},lView:null};function FP(){return Object.create(z4)}function LP(){return wf??=FP(),wf}const Z={};function Jy(t){VP(le(),T(),tn()+t,!1)}function VP(t,e,n,r){if(!r)if(3==(3&e[J])){const s=t.preOrderCheckHooks;null!==s&&Vh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Uh(e,s,0,n)}Rs(n)}function j(t,e=oe.Default){const n=T();return null===n?B(t,e):K0(Mt(),n,W(t),e)}function Cf(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Xe]=i,d[J]=140|r,(null!==c||t&&2048&t[J])&&(d[J]|=2048),w0(d),d[He]=d[Vo]=t,d[nt]=n,d[Lo]=o||t&&t[Lo],d[Y]=a||t&&t[Y],d[Pi]=u||t&&t[Pi]||null,d[Bt]=s,d[uc]=function Jz(){return Zz++}(),d[Qr]=l,d[Zb]=c,d[rt]=2==e.type?t[rt]:d,d}function ha(t,e,n,r,i){let s=t.data[e];if(null===s)s=function ev(t,e,n,r,i){const s=R0(),o=G_(),u=t.data[e]=function J4(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Go(){return null!==z.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function ZH(){return z.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function fc(){const t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return wr(s,!0),s}function Mc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function BP(t,e,n,r,i){const s=kP(e,cc),o=tn(),a=2&r;try{Rs(-1),a&&e.length>ae&&VP(t,e,ae,!1),Tr(a?2:0,i);const c=a?s:null,l=L_(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{V_(c,l)}}finally{a&&null===e[cc]&&OP(e,cc),Rs(o),Tr(a?3:1,i)}}function tv(t,e,n){if(k_(e)){const r=Bn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Bn(r)}}}function nv(t,e,n){b0()&&(function oq(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;As(n)&&function fq(t,e,n){const r=_n(e,t),i=$P(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Df(t,Cf(t,i,null,o,r,e,null,t[Lo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||$h(n,e),jt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ps(e,t,a,n);jt(c,e),null!==o&&pq(0,a-i,c,u,0,o),rr(u)&&(Sn(n.index,e)[nt]=Ps(e,t,a,n))}}(t,e,n,_n(n,e)),64==(64&n.flags)&&WP(t,e,n))}function rv(t,e,n=_n){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function $P(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=iv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function iv(t,e,n,r,i,s,o,a,u,c,l){const d=ae+r,h=d+i,f=function q4(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Z);return n}(d,h),p="function"==typeof c?c():c;return f[x]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let jP=t=>null;function GP(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?HP(n,e,i,s):r.hasOwnProperty(i)&&HP(n,e,r[i],s)}return n}function HP(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function sv(t,e,n,r){if(b0()){const i=null===r?null:{"":-1},s=function uq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Wb(e,o.selectors,!1))if(r||(r=[]),rr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ov(t,e,a.length)}else r.unshift(o),ov(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&zP(t,e,n,o,i,a),i&&function cq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new A(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=ic(n.mergedAttrs,n.attrs)}function zP(t,e,n,r,i,s){for(let c=0;c<r.length;c++)ty($h(n,e),t,r[c].type);!function dq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Mc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=ic(n.mergedAttrs,l.hostAttrs),hq(t,n,e,u,l),lq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function eq(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=GP(d.inputs,l,u,h?h.inputs:null),c=GP(d.outputs,l,c,p);const g=null===u||null===o||zb(e)?null:gq(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function WP(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function ez(){return z.lFrame.currentDirectiveIndex}();try{Rs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];z_(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&aq(u,c)}}finally{Rs(-1),z_(o)}}function aq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ov(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function lq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;rr(e)&&(n[""]=t)}}function hq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ss(i.type)),o=new pc(s,rr(i),j);t.blueprint[r]=o,n[r]=o,function iq(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function sq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Mc(t,n,i.hostVars,Z),i)}function pq(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)qP(r,n,o[a++],o[a++],o[a++])}function qP(t,e,n,r,i){const s=Bn(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Bn(s)}}function gq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function KP(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function QP(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];q_(n[r]),o.contentQueries(2,e[s],s)}}}function Df(t,e){return t[oc]?t[Xb][nr]=e:t[oc]=e,t[Xb]=e,e}function uv(t,e,n){q_(0);const r=Bn(null);try{e(t,n)}finally{Bn(r)}}function cv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];qP(t.data[o],e[o],r,a,i)}}function ti(t,e,n){const r=function Oh(t,e){return Me(e[t])}(e,t);!function DR(t,e,n){t.setValue(e,n)}(t[Y],r,n)}function mq(t,e){const n=Sn(e,t),r=n[x];!function _q(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Xe];null!==i&&null===n[Qr]&&(n[Qr]=jy(i,n[Pi])),lv(r,n,n[nt])}function lv(t,e,n){K_(e);try{const r=t.viewQuery;null!==r&&uv(1,r,n);const i=t.template;null!==i&&BP(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&QP(t,e),t.staticViewQueries&&uv(2,t.viewQuery,n);const s=t.components;null!==s&&function yq(t,e){for(let n=0;n<e.length;n++)mq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,Q_()}}let eN=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function bH(t,e,n){const r=Object.create(RH);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>a0(r),run:()=>{if(r.dirty=!1,r.hasRun&&!u0(r))return;r.hasRun=!0;const o=L_(r);try{r.cleanupFn(),r.cleanupFn=m0,r.fn(i)}finally{V_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})();function Af(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=__(i,a):2==s&&(r=__(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function kc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Me(s)),Jt(s)&&tN(s,r);const o=n.type;if(8&o)kc(t,e,n.child,r);else if(32&o){const a=fy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=kR(e,n);if(Array.isArray(a))r.push(...a);else{const u=Tc(e[rt]);kc(u[x],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function tN(t,e){for(let n=Nt;n<t.length;n++){const r=t[n],i=r[x].firstChild;null!==i&&kc(r[x],r,i,e)}t[Er]!==t[Xe]&&e.push(t[Er])}function Sf(t,e,n,r=!0){const i=e[Lo],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{nN(t,e,t.template,n)}catch(u){throw r&&function JP(t,e){const n=t[Pi],r=n?n.get(Jr,null):null;r&&r.handleError(e)}(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function nN(t,e,n,r){const i=e[J];if(256!=(256&i)){e[Lo].effectManager?.flush(),K_(e);try{w0(e),function N0(t){return z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&BP(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Vh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Uh(e,c,0,null),Y_(e,0)}if(function Eq(t){for(let e=TR(t);null!==e;e=wR(e)){if(!e[Jb])continue;const n=e[Bo];for(let r=0;r<n.length;r++){UH(n[r])}}}(e),rN(e,2),null!==t.contentQueries&&QP(t,e),o){const c=t.contentCheckHooks;null!==c&&Vh(e,c)}else{const c=t.contentHooks;null!==c&&Uh(e,c,1),Y_(e,1)}!function W4(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=kP(e,lc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Rs(~s);else{const o=s,a=n[++i],u=n[++i];JH(a,o),r.dirty=!1;const c=L_(r);try{u(2,e[o])}finally{V_(r,c)}}}}finally{null===e[lc]&&OP(e,lc),Rs(-1)}}(t,e);const a=t.components;null!==a&&sN(e,a,0);const u=t.viewQuery;if(null!==u&&uv(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Vh(e,c)}else{const c=t.viewHooks;null!==c&&Uh(e,c,2),Y_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[J]&=-73,C0(e)}finally{Q_()}}}function rN(t,e){for(let n=TR(t);null!==n;n=wR(n))for(let r=Nt;r<n.length;r++)iN(n[r],e)}function Tq(t,e,n){iN(Sn(e,t),n)}function iN(t,e){if(!function LH(t){return 128==(128&t[J])}(t))return;const n=t[x],r=t[J];if(80&r&&0===e||1024&r||2===e)nN(n,t,n.template,t[nt]);else if(t[sc]>0){rN(t,1);const i=n.components;null!==i&&sN(t,i,1)}}function sN(t,e,n){for(let r=0;r<e.length;r++)Tq(t,e[r],n)}class Oc{get rootNodes(){const e=this._lView,n=e[x];return kc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nt]}set context(e){this._lView[nt]=e}get destroyed(){return 256==(256&this._lView[J])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[He];if(Jt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(nf(e,r),zh(n,r))}this._attachedToViewContainer=!1}gy(this._lView[x],this._lView)}onDestroy(e){!function A0(t,e){if(256==(256&t[J]))throw new A(911,!1);null===t[Ni]&&(t[Ni]=[]),t[Ni].push(e)}(this._lView,e)}markForCheck(){xc(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){this._lView[J]|=128}detectChanges(){Sf(this._lView[x],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fW(t,e){Cc(t,e,e[Y],2,null,null)}(this._lView[x],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e}}class wq extends Oc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Sf(e[x],e,e[nt],!1)}checkNoChanges(){}get context(){return null}}class oN extends If{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ce(e);return new Fc(n,this.ngModule)}}function aN(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Dq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ah(r);const i=this.injector.get(e,zy,r);return i!==zy||n===zy?i:this.parentInjector.get(e,n,r)}}class Fc extends dP{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=aN(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return aN(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function cH(t){return t.map(uH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof jn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Dq(e,s):e,a=o.get(fP,null);if(null===a)throw new A(407,!1);const d={rendererFactory:a,sanitizer:o.get(T4,null),effectManager:o.get(eN,null),afterRenderEventManager:o.get(Zy,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function K4(t,e,n,r){const s=r.get(PP,!1)||n===er.ShadowDom,o=t.selectRootElement(e,s);return function Q4(t){jP(t)}(o),o}(h,r,this.componentDef.encapsulation,o):tf(h,f,function Cq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=jy(p,o,!0));const E=iv(0,null,null,1,0,null,null,null,null,null,null),D=Cf(null,E,null,v,null,null,d,h,o,null,_);let O,G;K_(D);try{const ye=this.componentDef;let It,Ai=null;ye.findHostDirectiveDefs?(It=[],Ai=new Map,ye.findHostDirectiveDefs(ye,It,Ai),It.push(ye)):It=[ye];const Xu=function Sq(t,e){const n=t[x],r=ae;return t[r]=e,ha(n,r,2,"#host",null)}(D,p),Qle=function bq(t,e,n,r,i,s,o){const a=i[x];!function Rq(t,e,n,r){for(const i of t)e.mergedAttrs=ic(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Af(e,e.mergedAttrs,!0),null!==n&&VR(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=jy(e,i[Pi]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Cf(i,$P(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&ov(a,t,r.length-1),Df(i,d),i[t.index]=d}(Xu,p,ye,It,D,d,h);G=T0(E,ae),p&&function Nq(t,e,n,r){if(r)x_(t,n,["ng-version",pP.full]);else{const{attrs:i,classes:s}=function lH(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!tr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&x_(t,n,i),s&&s.length>0&&LR(t,n,s.join(" "))}}(h,ye,p,r),void 0!==n&&function xq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(G,this.ngContentSelectors,n),O=function Pq(t,e,n,r,i,s){const o=Mt(),a=i[x],u=_n(o,i);zP(a,i,o,n,null,r);for(let l=0;l<n.length;l++)jt(Ps(i,a,o.directiveStart+l,o),i);WP(a,i,o),u&&jt(u,i);const c=Ps(i,a,o.directiveStart+o.componentOffset,o);if(t[nt]=i[nt]=c,null!==s)for(const l of s)l(c,e);return tv(a,o,t),c}(Qle,ye,It,Ai,D,[Mq]),lv(E,D,null)}finally{Q_()}return new Aq(this.componentType,O,ca(G,D),D,G)}}class Aq extends m4{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;cv(s[x],s,i,e,n),this.previousInputValues.set(e,n),xc(Sn(this._tNode.index,s))}}get injector(){return new nn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Mq(){const t=Mt();Lh(T()[x],t)}function Rf(t){return!!function dv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Gt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Pf(t,e,n,r,i){const s=function ks(t,e,n,r){const i=Gt(t,e,n);return Gt(t,e+1,r)||i}(t,e,n,r);return Gt(t,e+2,i)||s}function ma(t,e,n,r,i,s,o,a){const c=Pf(t,function Yr(){return z.lFrame.bindingIndex}(),n,i,o);return function Xr(t){const e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(3),c?e+Q(n)+r+Q(i)+s+Q(o)+a:Z}let SN=function bN(t,e,n,r){return ki(!0),e[Y].createComment("")};function yv(t,e,n){const r=T();return Gt(r,function Ho(){return z.lFrame.bindingIndex++}(),e)&&function Rn(t,e,n,r,i,s,o,a){const u=_n(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(cv(t,n,l,r,i),As(e)&&function nq(t,e){const n=Sn(e,t);16&n[J]||(n[J]|=64)}(n,e.index)):3&e.type&&(r=function tq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(le(),function Ke(){const t=z.lFrame;return T0(t.tView,t.selectedIndex)}(),r,t,e,r[Y],n,!1),yv}function vv(t,e,n,r,i){const o=i?"class":"style";cv(t,n,e.inputs[o],o,r)}function Ta(t,e,n,r){const i=T(),s=le(),o=ae+t,a=i[Y],u=s.firstCreatePass?function f6(t,e,n,r,i,s){const o=e.consts,u=ha(e,t,2,r,Mi(o,i));return sv(e,n,u,Mi(o,s)),null!==u.attrs&&Af(u,u.attrs,!1),null!==u.mergedAttrs&&Af(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=RN(s,i,u,a,e,t);i[o]=c;const l=xh(u);return wr(u,!0),VR(a,c,u),32!=(32&u.flags)&&Fh()&&sf(s,i,c,u),0===function $H(){return z.lFrame.elementDepthCount}()&&jt(c,i),function jH(){z.lFrame.elementDepthCount++}(),l&&(nv(s,i,u),tv(s,u,i)),null!==r&&rv(i,u),Ta}function wa(){let t=Mt();G_()?function H_(){z.lFrame.isParent=!1}():(t=t.parent,wr(t,!1));const e=t;(function HH(t){return z.skipHydrationRootTNode===t})(e)&&function KH(){z.skipHydrationRootTNode=null}(),function GH(){z.lFrame.elementDepthCount--}();const n=le();return n.firstCreatePass&&(Lh(n,t),k_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function dz(t){return 0!=(8&t.flags)}(e)&&vv(n,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function hz(t){return 0!=(16&t.flags)}(e)&&vv(n,e,T(),e.stylesWithoutHost,!1),wa}function kf(t,e,n,r){return Ta(t,e,n,r),wa(),kf}let RN=(t,e,n,r,i,s)=>(ki(!0),tf(r,i,function U0(){return z.lFrame.currentNamespace}()));function Of(t){return!!t&&"function"==typeof t.then}function xN(t){return!!t&&"function"==typeof t.subscribe}function bv(t,e=""){const n=T(),r=le(),i=t+ae,s=r.firstCreatePass?ha(r,i,1,e,null):r.data[i],o=ax(r,n,s,e,t);n[i]=o,Fh()&&sf(r,n,o,s),wr(s,!1)}let ax=(t,e,n,r,i)=>(ki(!0),function ef(t,e){return t.createText(e)}(e[Y],r));function Pv(t,e,n,r,i,s,o){const a=T(),u=ma(a,t,e,n,r,i,s,o);return u!==Z&&ti(a,tn(),u),Pv}const Aa="en-US";let Rx=Aa;class Ls{}class tM{}class Lv extends Ls{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oN(this);const i=An(e);this._bootstrapComponents=ei(i.bootstrap),this._r3Injector=vP(e,n,[{provide:Ls,useValue:this},{provide:If,useValue:this.componentFactoryResolver},...r],gt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Vv extends tM{constructor(e){super(),this.moduleType=e}create(e){return new Lv(this.moduleType,e,[])}}class nM extends Ls{constructor(e){super(),this.componentFactoryResolver=new oN(this),this.instance=null;const n=new sa([...e.providers,{provide:Ls,useValue:this},{provide:If,useValue:this.componentFactoryResolver}],e.parent||ff(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Uv(t,e,n=null){return new nM({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let _9=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=tP(0,n.type),i=r.length>0?Uv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(B(jn))})}return t})();function rM(t){t.getStandaloneInjector=e=>e.get(_9).getOrCreateStandaloneInjector(t)}function z9(t,e,n,r=!0){const i=e[x];if(function gW(t,e,n,r){const i=Nt+r,s=n.length;r>0&&(n[i-1][nr]=e),r<s-Nt?(e[nr]=n[i],tR(n,Nt+r,e)):(n.push(e),e[nr]=null),e[He]=n;const o=e[ac];null!==o&&n!==o&&function mW(t,e){const n=t[Bo];e[rt]!==e[He][He][rt]&&(t[Jb]=!0),null===n?t[Bo]=[e]:n.push(e)}(o,e);const a=e[Ir];null!==a&&a.insertView(t),e[J]|=128}(i,e,t,n),r){const s=vy(n,t),o=e[Y],a=rf(o,t[Er]);null!==a&&function hW(t,e,n,r,i,s){r[Xe]=i,r[Bt]=e,Cc(t,r,n,1,i,s)}(i,t[Bt],o,e,a,s)}}Symbol;let ni=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=K9}return t})();const W9=ni,q9=class extends W9{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function H9(t,e,n,r){const i=e.tView,a=Cf(t,i,n,4096&t[J]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[ac]=t[e.index];const c=t[Ir];return null!==c&&(a[Ir]=c.createEmbeddedView(i)),lv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Oc(i)}};function K9(){return function jf(t,e){return 4&t.type?new q9(e,t,ca(t,e)):null}(Mt(),T())}let or=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=e5}return t})();function e5(){return function EM(t,e){let n;const r=e[t.index];return Jt(r)?n=r:(n=KP(r,e,null,t),e[t.index]=n,Df(e,n)),TM(n,e,t,r),new vM(n,t,e)}(Mt(),T())}const t5=or,vM=class extends t5{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ca(this._hostTNode,this._hostLView)}get injector(){return new nn(this._hostTNode,this._hostLView)}get parentInjector(){const e=jh(this._hostTNode,this._hostLView);if(Z_(e)){const n=mc(e,this._hostLView),r=gc(e);return new nn(n[x].data[r+8],n)}return new nn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=IM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Nt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function yc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new Fc(ce(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(jn,null);m&&(s=m)}ce(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function VH(t){return Jt(t[He])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[He],l=new vM(c,c[Bt],c[He]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return z9(a,i,o,!r),e.attachToViewContainerRef(),tR(jv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=IM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=nf(this._lContainer,n);r&&(zh(jv(this._lContainer),n),gy(r[x],r))}detach(e){const n=this._adjustIndex(e,-1),r=nf(this._lContainer,n);return r&&null!=zh(jv(this._lContainer),n)?new Oc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function IM(t){return t[8]}function jv(t){return t[8]||(t[8]=[])}let TM=function wM(t,e,n,r){if(t[Er])return;let i;i=8&n.type?Me(r):function n5(t,e){const n=t[Y],r=n.createComment(""),i=_n(e,t);return Ns(n,rf(n,i),r,function IW(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Er]=i};const Jv=new L("Application Initializer");let eI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=F(Jv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Of(s))n.push(s);else if(xN(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),KM=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const ri=new L("LocaleId",{providedIn:"root",factory:()=>F(ri,oe.Optional|oe.SkipSelf)||function M5(){return typeof $localize<"u"&&$localize.locale||Aa}()});let QM=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Vn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class F5{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let YM=(()=>{class t{compileModuleSync(n){return new Vv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ei(An(n).declarations).reduce((o,a)=>{const u=ce(a);return u&&o.push(new Fc(u)),o},[]);return new F5(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ek=new L(""),Wf=new L("");let sI,rI=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sI||(function i8(t){sI=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(B(Ie),B(iI),B(Wf))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),iI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return sI?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Ui=null;const tk=new L("AllowMultipleToken"),oI=new L("PlatformDestroyListeners"),aI=new L("appBootstrapListener");class rk{constructor(e,n){this.name=e,this.token=n}}function sk(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=uI();if(!o||o.injector.get(tk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function a8(t){if(Ui&&!Ui.get(tk,!1))throw new A(400,!1);(function nk(){!function wH(t){h0=t}(()=>{throw new A(600,!1)})})(),Ui=t;const e=t.get(ak);(function ik(t){t.get(oP,null)?.forEach(n=>n())})(t)}(function ok(t=[],e){return rn.create({name:e,providers:[{provide:Ny,useValue:"platform"},{provide:oI,useValue:new Set([()=>Ui=null])},...t]})}(a,r))}return function c8(t){const e=uI();if(!e)throw new A(401,!1);return e}()}}function uI(){return Ui?.get(ak)??null}let ak=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function l8(t="zone.js",e){return"noop"===t?new k4:"zone.js"===t?new Ie(e):t}(r?.ngZone,function uk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function m9(t,e,n){return new Lv(t,e,n)}(n.moduleType,this.injector,function fk(t){return[{provide:Ie,useFactory:t},{provide:bc,multi:!0,useFactory:()=>{const e=F(h8,{optional:!0});return()=>e.initialize()}},{provide:hk,useFactory:d8},{provide:CP,useFactory:DP}]}(()=>i)),o=s.injector.get(Jr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{qf(this._modules,s),a.unsubscribe()})}),function ck(t,e,n){try{const r=n();return Of(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(eI);return a.runInitializers(),a.donePromise.then(()=>(function Px(t){Un(t,"Expected localeId to be defined"),"string"==typeof t&&(Rx=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ri,Aa)||Aa),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=lk({},r);return function s8(t,e,n){const r=new Vv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ra);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new A(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(oI,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(B(rn))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function lk(t,e){return Array.isArray(e)?e.reduce(lk,t):{...t,...e}}let Ra=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(hk),this.zoneIsStable=F(CP),this.componentTypes=[],this.components=[],this.isStable=F(QM).hasPendingTasks.pipe(_r(n=>n?q(!1):this.zoneIsStable),function kG(t,e=Si){return t=t??OG,ft((n,r)=>{let i,s=!0;n.subscribe(pt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Rb()),this._injector=F(jn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof dP;if(!this._injector.get(eI).done)throw!i&&function Oo(t){const e=ce(t)||Pt(t)||Zt(t);return null!==e&&e.standalone}(n),new A(405,!1);let o;o=i?n:this._injector.get(If).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function o8(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Ls),c=o.create(rn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(ek,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),qf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new A(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;qf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(aI,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new A(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hk=new L("",{providedIn:"root",factory:()=>F(Jr).handleError.bind(void 0)});function d8(){const t=F(Ie),e=F(Jr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let h8=(()=>{class t{constructor(){this.zone=F(Ie),this.applicationRef=F(Ra)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let cI=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=p8}return t})();function p8(t){return function g8(t,e,n){if(As(t)&&!n){const r=Sn(t.index,e);return new Oc(r,r)}return 47&t.type?new Oc(e[rt],e):null}(Mt(),T(),16==(16&t))}class _k{constructor(){}supports(e){return Rf(e)}create(e){return new E8(e)}}const I8=(t,e)=>e;class E8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||I8}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<vk(r,i,s)?n:r,a=vk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Rf(e))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Hq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new T8(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new yk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class T8{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class w8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class yk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new w8,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Ek(){return new Yf([new _k])}let Yf=(()=>{class t{static#e=this.\u0275prov=$({token:t,providedIn:"root",factory:Ek});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Ek()),deps:[[t,new qh,new $t]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new A(901,!1)}}return t})();const b8=sk(null,"core",[]);let R8=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(B(Ra))};static#t=this.\u0275mod=vr({type:t});static#n=this.\u0275inj=Jn({})}return t})(),mI=null;function Pa(){return mI}class G8{}const Hn=new L("DocumentToken");let _I=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:function(){return F(z8)},providedIn:"platform"})}return t})();const H8=new L("Location Initialized");let z8=(()=>{class t extends _I{constructor(){super(),this._doc=F(Hn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pa().getBaseHref(this._doc)}onPopState(n){const r=Pa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Pa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function yI(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Nk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ii(t){return t&&"?"!==t[0]?"?"+t:t}let Us=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:function(){return F(Mk)},providedIn:"root"})}return t})();const xk=new L("appBaseHref");let Mk=(()=>{class t extends Us{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(Hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return yI(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ii(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ii(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ii(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(_I),B(xk,8))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),W8=(()=>{class t extends Us{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=yI(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ii(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ii(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(_I),B(xk,8))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),vI=(()=>{class t{constructor(n){this._subject=new sn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Q8(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Nk(kk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ii(r))}normalize(n){return t.stripTrailingSlash(function K8(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,kk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ii(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ii(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=ii;static#t=this.joinWithSlash=yI;static#n=this.stripTrailingSlash=Nk;static#r=this.\u0275fac=function(r){return new(r||t)(B(Us))};static#i=this.\u0275prov=$({token:t,factory:function(){return function q8(){return new vI(B(Us))}()},providedIn:"root"})}return t})();function kk(t){return t.replace(/\/index.html$/,"")}class F7{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zk=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new F7(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Wk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Wk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(j(or),j(ni),j(Yf))};static#t=this.\u0275dir=Xt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function Wk(t,e){t.context.$implicit=e.item}let cK=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vr({type:t});static#n=this.\u0275inj=Jn({})}return t})();function Xk(t){return"server"===t}let fK=(()=>{class t{static#e=this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new pK(B(Hn),window)})}return t})();class pK{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function gK(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class UK extends G8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class FI extends UK{static makeCurrent(){!function j8(t){mI||(mI=t)}(new FI)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function BK(){return tl=tl||document.querySelector("base"),tl?tl.getAttribute("href"):null}();return null==n?null:function $K(t){lp=lp||document.createElement("a"),lp.setAttribute("href",t);const e=lp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){tl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function M7(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let lp,tl=null,GK=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();const LI=new L("EventManagerPlugins");let nO=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new A(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(B(LI),B(Ie))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();class rO{constructor(e){this._doc=e}}const VI="ng-app-id";let iO=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Xk(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${VI}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(VI),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(VI,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Hn),B(pf),B(aP,8),B(Ms))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();const UI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},BI=/%COMP%/g,qK=new L("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function oO(t,e){return e.map(n=>n.replace(BI,t))}let aO=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Xk(a),this.defaultRenderer=new $I(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===er.ShadowDom&&(r={...r,encapsulation:er.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof cO?i.applyToHost(n):i instanceof jI&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case er.Emulated:s=new cO(u,c,r,this.appId,l,o,a,d);break;case er.ShadowDom:return new XK(u,c,n,r,o,a,this.nonce,d);default:s=new jI(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(B(nO),B(iO),B(pf),B(qK),B(Hn),B(Ms),B(Ie),B(aP))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();class $I{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(UI[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(uO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(uO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=UI[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=UI[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Oi.DashCase|Oi.Important)?e.style.setProperty(n,r,i&Oi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Oi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Pa().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function uO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class XK extends $I{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=oO(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jI extends $I{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?oO(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class cO extends jI{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function KK(t){return"_ngcontent-%COMP%".replace(BI,t)}(c),this.hostAttr=function QK(t){return"_nghost-%COMP%".replace(BI,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let ZK=(()=>{class t extends rO{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Hn))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();const lO=["alt","control","meta","shift"],JK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eQ={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let tQ=(()=>{class t extends rO{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pa().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),lO.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=JK[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),lO.forEach(o=>{o!==i&&(0,eQ[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(B(Hn))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();const hO=[{provide:Ms,useValue:"browser"},{provide:oP,useValue:function nQ(){FI.makeCurrent()},multi:!0},{provide:Hn,useFactory:function iQ(){return function bW(t){Ty=t}(document),document},deps:[]}],sQ=sk(b8,"browser",hO),oQ=new L(""),fO=[{provide:Wf,useClass:class jK{addToWindow(e){xe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new A(5103,!1);return s},xe.getAllAngularTestabilities=()=>e.getAllTestabilities(),xe.getAllAngularRootElements=()=>e.getAllRootElements(),xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push(r=>{const i=xe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Pa().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:ek,useClass:rI,deps:[Ie,iI,Wf]},{provide:rI,useClass:rI,deps:[Ie,iI,Wf]}],pO=[{provide:Ny,useValue:"root"},{provide:Jr,useFactory:function rQ(){return new Jr},deps:[]},{provide:LI,useClass:ZK,multi:!0,deps:[Hn,Ie,Ms]},{provide:LI,useClass:tQ,multi:!0,deps:[Hn]},aO,iO,nO,{provide:fP,useExisting:aO},{provide:class mK{},useClass:GK,deps:[]},[]];let aQ=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:pf,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(B(oQ,12))};static#t=this.\u0275mod=vr({type:t});static#n=this.\u0275inj=Jn({providers:[...pO,...fO],imports:[cK,R8]})}return t})(),gO=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(B(Hn))};static#t=this.\u0275prov=$({token:t,factory:function(r){let i=null;return i=r?new r:function cQ(){return new gO(B(Hn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:gQ}=Array,{getPrototypeOf:mQ,prototype:_Q,keys:yQ}=Object;const{isArray:EQ}=Array;function HI(...t){const e=ec(t),n=function DG(t){return Se(g_(t))?t.pop():void 0}(t),{args:r,keys:i}=function vQ(t){if(1===t.length){const e=t[0];if(gQ(e))return{args:e,keys:null};if(function IQ(t){return t&&"object"==typeof t&&mQ(t)===_Q}(e)){const n=yQ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Rt([],e);const s=new tt(function DQ(t,e,n=Si){return r=>{vO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)vO(e,()=>{const c=Rt(t[u],e);let l=!1;c.subscribe(pt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function CQ(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):Si));return n?s.pipe(function wQ(t){return Ne(e=>function TQ(t,e){return EQ(e)?t(...e):t(e)}(t,e))}(n)):s}function vO(t,e,n){t?Wr(n,t,e):e()}const dp=Zu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function zI(...t){return function AQ(){return Mo(1)}()(Rt(t,ec(t)))}function IO(t){return new tt(e=>{Ln(t()).subscribe(e)})}function nl(t,e){const n=Se(t)?t:()=>t,r=i=>i.error(n());return new tt(e?i=>e.schedule(r,0,i):r)}function WI(){return ft((t,e)=>{let n=null;t._refCount++;const r=pt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class EO extends tt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fn;const n=this.getSubject();e.add(this.source.subscribe(pt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fn.EMPTY)}return e}refCount(){return WI()(this)}}function xa(t){return t<=0?()=>mr:ft((e,n)=>{let r=0;e.subscribe(pt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $i(t,e){return ft((n,r)=>{let i=0;n.subscribe(pt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function hp(t){return ft((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function TO(t=bQ){return ft((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function bQ(){return new dp}function Bs(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$i((i,s)=>t(i,s,r)):Si,xa(1),n?hp(e):TO(()=>new dp))}function rl(t,e){return Se(e)?bt(t,e,1):bt(t,1)}function kt(t,e,n){const r=Se(t)||e||n?{next:t,error:e,complete:n}:t;return r?ft((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(pt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Si}function $s(t){return ft((e,n)=>{let s,r=null,i=!1;r=e.subscribe(pt(n,void 0,void 0,o=>{s=Ln(t(o,$s(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function qI(t){return t<=0?()=>mr:ft((e,n)=>{let r=[];e.subscribe(pt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function KI(t){return ft((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const te="primary",il=Symbol("RouteTitle");class kQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ma(t){return new kQ(t)}function OQ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Rr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!wO(t[i],e[i]))return!1;return!0}function wO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function CO(t){return t.length>0?t[t.length-1]:null}function ji(t){return function pQ(t){return!!t&&(t instanceof tt||Se(t.lift)&&Se(t.subscribe))}(t)?t:Of(t)?Rt(Promise.resolve(t)):q(t)}const LQ={exact:function SO(t,e,n){if(!js(t.segments,e.segments)||!fp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!SO(t.children[r],e.children[r],n))return!1;return!0},subset:bO},DO={exact:function VQ(t,e){return Rr(t,e)},subset:function UQ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>wO(t[n],e[n]))},ignored:()=>!0};function AO(t,e,n){return LQ[n.paths](t.root,e.root,n.matrixParams)&&DO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function bO(t,e,n){return RO(t,e,e.segments,n)}function RO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!js(i,n)||e.hasChildren()||!fp(i,n,r))}if(t.segments.length===n.length){if(!js(t.segments,n)||!fp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!bO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(js(t.segments,i)&&fp(t.segments,i,r)&&t.children[te])&&RO(t.children[te],e,s,r)}}function fp(t,e,n){return e.every((r,i)=>DO[n](t[i].parameters,r.parameters))}class ka{constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ma(this.queryParams)),this._queryParamMap}toString(){return jQ.serialize(this)}}class we{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pp(this)}}class sl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ma(this.parameters)),this._parameterMap}toString(){return xO(this)}}function js(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let ol=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:function(){return new QI},providedIn:"root"})}return t})();class QI{parse(e){const n=new JQ(e);return new ka(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${al(e.root,!0)}`,r=function zQ(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${gp(n)}=${gp(i)}`).join("&"):`${gp(n)}=${gp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function GQ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const jQ=new QI;function pp(t){return t.segments.map(e=>xO(e)).join("/")}function al(t,e){if(!t.hasChildren())return pp(t);if(e){const n=t.children[te]?al(t.children[te],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==te&&r.push(`${i}:${al(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function $Q(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==te&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===te?[al(t.children[te],!1)]:[`${i}:${al(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[te]?`${pp(t)}/${n[0]}`:`${pp(t)}/(${n.join("//")})`}}function PO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gp(t){return PO(t).replace(/%3B/gi,";")}function YI(t){return PO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mp(t){return decodeURIComponent(t)}function NO(t){return mp(t.replace(/\+/g,"%20"))}function xO(t){return`${YI(t.path)}${function HQ(t){return Object.keys(t).map(e=>`;${YI(e)}=${YI(t[e])}`).join("")}(t.parameters)}`}const WQ=/^[^\/()?;#]+/;function XI(t){const e=t.match(WQ);return e?e[0]:""}const qQ=/^[^\/()?;=#]+/,QQ=/^[^=?&#]+/,XQ=/^[^&#]+/;class JQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new we(e,n)),r}parseSegment(){const e=XI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new sl(mp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function KQ(t){const e=t.match(qQ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=XI(this.remaining);i&&(r=i,this.capture(r))}e[mp(n)]=mp(r)}parseQueryParam(e){const n=function YQ(t){const e=t.match(QQ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function ZQ(t){const e=t.match(XQ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=NO(n),s=NO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=XI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=te);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[te]:new we([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}}function MO(t){return t.segments.length>0?new we([],{[te]:t}):t}function kO(t){const e={};for(const r of Object.keys(t.children)){const s=kO(t.children[r]);if(r===te&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function eY(t){if(1===t.numberOfChildren&&t.children[te]){const e=t.children[te];return new we(t.segments.concat(e.segments),e.children)}return t}(new we(t.segments,e))}function Gs(t){return t instanceof ka}function OO(t){let e;const i=MO(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new we(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function FO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return ZI(i,i,i,n,r);const s=function nY(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new VO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new VO(n,e,r)}(e);if(s.toRoot())return ZI(i,i,new we([],{}),n,r);const o=function rY(t,e,n){if(t.isAbsolute)return new yp(e,!0,0);if(!n)return new yp(e,!1,NaN);if(null===n.parent)return new yp(n,!0,0);const r=_p(t.commands[0])?0:1;return function iY(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new yp(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?cl(o.segmentGroup,o.index,s.commands):UO(o.segmentGroup,o.index,s.commands);return ZI(i,o.segmentGroup,a,n,r)}function _p(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ul(t){return"object"==typeof t&&null!=t&&t.outlets}function ZI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:LO(t,e,n);const a=MO(kO(o));return new ka(a,s,i)}function LO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:LO(s,e,n)}),new we(t.segments,r)}class VO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&_p(r[0]))throw new A(4003,!1);const i=r.find(ul);if(i&&i!==CO(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yp{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function UO(t,e,n){if(t||(t=new we([],{})),0===t.segments.length&&t.hasChildren())return cl(t,e,n);const r=function oY(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(ul(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!$O(u,c,o))return s;r+=2}else{if(!$O(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new we(t.segments.slice(0,r.pathIndex),{});return s.children[te]=new we(t.segments.slice(r.pathIndex),t.children),cl(s,0,i)}return r.match&&0===i.length?new we(t.segments,{}):r.match&&!t.hasChildren()?JI(t,e,n):r.match?cl(t,0,i):JI(t,e,n)}function cl(t,e,n){if(0===n.length)return new we(t.segments,{});{const r=function sY(t){return ul(t[0])?t[0].outlets:{[te]:t}}(n),i={};if(Object.keys(r).some(s=>s!==te)&&t.children[te]&&1===t.numberOfChildren&&0===t.children[te].segments.length){const s=cl(t.children[te],e,n);return new we(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=UO(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new we(t.segments,i)}}function JI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ul(s)){const u=aY(s.outlets);return new we(r,u)}if(0===i&&_p(n[0])){r.push(new sl(t.segments[e].path,BO(n[0]))),i++;continue}const o=ul(s)?s.outlets[te]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&_p(a)?(r.push(new sl(o,BO(a))),i+=2):(r.push(new sl(o,{})),i++)}return new we(r,{})}function aY(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=JI(new we([],{}),0,r))}),e}function BO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function $O(t,e,n){return t==n.path&&Rr(e,n.parameters)}const ll="imperative";class Pr{constructor(e,n){this.id=e,this.url=n}}class vp extends Pr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gi extends Pr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dl extends Pr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Oa extends Pr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Ip extends Pr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jO extends Pr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uY extends Pr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cY extends Pr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lY extends Pr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dY extends Pr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _Y{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class eE{}class tE{constructor(e){this.url=e}}class yY{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new hl,this.attachRef=null}}let hl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new yY,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class HO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=nE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=nE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=rE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return rE(e,this._root).map(n=>n.value)}}function nE(t,e){if(t===e.value)return e;for(const n of e.children){const r=nE(t,n);if(r)return r}return null}function rE(t,e){if(t===e.value)return[e];for(const n of e.children){const r=rE(t,n);if(r.length)return r.unshift(e),r}return[]}class ai{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Fa(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class zO extends HO{constructor(e,n){super(e),this.snapshot=n,iE(this,e)}toString(){return this.snapshot.toString()}}function WO(t,e){const n=function vY(t,e){const o=new Ep([],{},{},"",{},te,e,null,{});return new KO("",new ai(o,[]))}(0,e),r=new Vn([new sl("",{})]),i=new Vn({}),s=new Vn({}),o=new Vn({}),a=new Vn(""),u=new La(r,i,o,a,s,te,e,n.root);return u.snapshot=n.root,new zO(new ai(u,[]),n)}class La{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ne(c=>c[il]))??q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ne(e=>Ma(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ne(e=>Ma(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function IY(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ep{get title(){return this.data?.[il]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ma(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ma(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class KO extends HO{constructor(e,n){super(n),this.url=e,iE(this,n)}toString(){return QO(this._root)}}function iE(t,e){e.value._routerState=t,e.children.forEach(n=>iE(t,n))}function QO(t){const e=t.children.length>0?` { ${t.children.map(QO).join(", ")} } `:"";return`${t.value}${e}`}function sE(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Rr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Rr(e.params,n.params)||t.paramsSubject.next(n.params),function FQ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Rr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Rr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function oE(t,e){const n=Rr(t.params,e.params)&&function BQ(t,e){return js(t,e)&&t.every((n,r)=>Rr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||oE(t.parent,e.parent))}let aE=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new sn,this.deactivateEvents=new sn,this.attachEvents=new sn,this.detachEvents=new sn,this.parentContexts=F(hl),this.location=F(or),this.changeDetector=F(cI),this.environmentInjector=F(jn),this.inputBinder=F(Tp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new EY(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Xt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[bs]})}return t})();class EY{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===La?this.route:e===hl?this.childContexts:this.parent.get(e,n)}}const Tp=new L("");let YO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=HI([r.queryParams,r.params,r.data]).pipe(_r(([s,o,a],u)=>(a={...s,...o,...a},0===u?q(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function $8(t){const e=ce(t);if(!e)return null;const n=new Fc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function fl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function wY(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return fl(t,r,i);return fl(t,r)})}(t,e,n);return new ai(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>fl(t,a)),o}}const r=function CY(t){return new La(new Vn(t.url),new Vn(t.params),new Vn(t.queryParams),new Vn(t.fragment),new Vn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>fl(t,s));return new ai(r,i)}}const uE="ngNavigationCancelingError";function XO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Gs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function ZO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[uE]=!0,r.cancellationCode=e,n&&(r.url=n),r}function JO(t){return t&&t[uE]}let e1=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Rh({type:t,selectors:[["ng-component"]],standalone:!0,features:[rM],decls:1,vars:0,template:function(r,i){1&r&&kf(0,"router-outlet")},dependencies:[aE],encapsulation:2})}return t})();function cE(t){const e=t.children&&t.children.map(cE),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=e1),n}function cr(t){return t.outlet||te}function pl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class xY{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),sE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Fa(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Fa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Fa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Fa(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new _Y(s.value.snapshot))}),e.children.length&&this.forwardEvent(new gY(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(sE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),sE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=pl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class t1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wp{constructor(e,n){this.component=e,this.route=n}}function MY(t,e,n){const r=t._root;return gl(r,e?e._root:null,n,[r.value])}function Va(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function jG(t){return null!==Th(t)}(t)?e.get(t):t:r}function gl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Fa(e);return t.children.forEach(o=>{(function OY(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function FY(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!js(t.url,e.url);case"pathParamsOrQueryParamsChange":return!js(t.url,e.url)||!Rr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oE(t,e)||!Rr(t.queryParams,e.queryParams);default:return!oE(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new t1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),gl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new wp(a.outlet.component,o))}else o&&ml(e,a,i),i.canActivateChecks.push(new t1(r)),gl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ml(a,n.getContext(o),i)),i}function ml(t,e,n){const r=Fa(t),i=t.value;Object.entries(r).forEach(([s,o])=>{ml(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new wp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function _l(t){return"function"==typeof t}function n1(t){return t instanceof dp||"EmptyError"===t?.name}const Cp=Symbol("INITIAL_VALUE");function Ua(){return _r(t=>HI(t.map(e=>e.pipe(xa(1),function SQ(...t){const e=ec(t);return ft((n,r)=>{(e?zI(t,n,e):zI(t,n)).subscribe(r)})}(Cp)))).pipe(Ne(e=>{for(const n of e)if(!0!==n){if(n===Cp)return Cp;if(!1===n||n instanceof ka)return n}return!0}),$i(e=>e!==Cp),xa(1)))}function r1(t){return function Hj(...t){return lb(t)}(kt(e=>{if(Gs(e))throw XO(0,e)}),Ne(e=>!0===e))}class Dp{constructor(e){this.segmentGroup=e||null}}class i1{constructor(e){this.urlTree=e}}function Ba(t){return nl(new Dp(t))}function s1(t){return nl(new i1(t))}class nX{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new A(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[te])return nl(new A(4e3,!1));i=i.children[te]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ka(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new we(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const lE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rX(t,e,n,r,i){const s=dE(t,e,n);return s.matched?(r=function AY(t,e){return t.providers&&!t._injector&&(t._injector=Uv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function JY(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?q(i.map(o=>{const a=Va(o,t);return ji(function jY(t){return t&&_l(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ua(),r1()):q(!0)}(r,e,n).pipe(Ne(o=>!0===o?s:{...lE}))):q(s)}function dE(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...lE}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||OQ)(n,t,e);if(!i)return{...lE};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function o1(t,e,n,r){return n.length>0&&function oX(t,e,n){return n.some(r=>Ap(t,e,r)&&cr(r)!==te)}(t,n,r)?{segmentGroup:new we(e,sX(r,new we(n,t.children))),slicedSegments:[]}:0===n.length&&function aX(t,e,n){return n.some(r=>Ap(t,e,r))}(t,n,r)?{segmentGroup:new we(t.segments,iX(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function iX(t,e,n,r,i){const s={};for(const o of r)if(Ap(t,n,o)&&!i[cr(o)]){const a=new we([],{});s[cr(o)]=a}return{...i,...s}}function sX(t,e){const n={};n[te]=e;for(const r of t)if(""===r.path&&cr(r)!==te){const i=new we([],{});n[cr(r)]=i}return n}function Ap(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class dX{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new nX(this.urlSerializer,this.urlTree)}noMatchError(e){return new A(4002,!1)}recognize(){const e=o1(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,te).pipe($s(n=>{if(n instanceof i1)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Dp?this.noMatchError(n):n}),Ne(n=>{const r=new Ep([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},te,this.rootComponentType,null,{}),i=new ai(r,n),s=new KO("",i),o=function tY(t,e,n=null,r=null){return FO(OO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,te).pipe($s(r=>{throw r instanceof Dp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=qO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Rt(i).pipe(rl(s=>{const o=r.children[s],a=function PY(t,e){const n=t.filter(r=>cr(r)===e);return n.push(...t.filter(r=>cr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function PQ(t,e){return ft(function RQ(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(pt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),hp(null),function NQ(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$i((i,s)=>t(i,s,r)):Si,qI(1),n?hp(e):TO(()=>new dp))}(),bt(s=>{if(null===s)return Ba(r);const o=a1(s);return function hX(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}(o),q(o)}))}processSegment(e,n,r,i,s,o){return Rt(n).pipe(rl(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe($s(u=>{if(u instanceof Dp)return q(null);throw u}))),Bs(a=>!!a),$s(a=>{if(n1(a))return function cX(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?q([]):Ba(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function uX(t,e,n,r){return!!(cr(t)===r||r!==te&&Ap(e,n,t))&&("**"===t.path||dE(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ba(i):Ba(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?s1(s):this.applyRedirects.lineralizeSegments(r,s).pipe(bt(o=>{const a=new we(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=dE(n,i,s);if(!a)return Ba(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?s1(d):this.applyRedirects.lineralizeSegments(i,d).pipe(bt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?CO(i).parameters:{};a=q({snapshot:new Ep(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,u1(r),cr(r),r.component??r._loadedComponent??null,r,c1(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=rX(n,r,i,e).pipe(Ne(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Ep(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,u1(r),cr(r),r.component??r._loadedComponent??null,r,c1(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(_r(u=>null===u?Ba(n):this.getChildConfig(e=r._injector??e,r,i).pipe(_r(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=o1(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Ne(v=>null===v?null:[new ai(d,v)]));if(0===c.length&&0===g.length)return q([new ai(d,[])]);const m=cr(r)===s;return this.processSegment(l,c,p,g,m?te:s,!0).pipe(Ne(v=>[new ai(d,v)]))}))))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?q({routes:n._loadedRoutes,injector:n._loadedInjector}):function ZY(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(o=>{const a=Va(o,t);return ji(function VY(t){return t&&_l(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ua(),r1())}(e,n,r).pipe(bt(i=>i?this.configLoader.loadChildren(e,n).pipe(kt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function tX(t){return nl(ZO(!1,3))}())):q({routes:[],injector:e})}}function fX(t){const e=t.value.routeConfig;return e&&""===e.path}function a1(t){const e=[],n=new Set;for(const r of t){if(!fX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=a1(r.children);e.push(new ai(r.value,i))}return e.filter(r=>!n.has(r))}function u1(t){return t.data||{}}function c1(t){return t.resolve||{}}function l1(t){return"string"==typeof t.title||null===t.title}function hE(t){return _r(e=>{const n=t(e);return n?Rt(n).pipe(Ne(()=>e)):q(e)})}const $a=new L("ROUTES");let fE=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(YM)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ji(n.loadComponent()).pipe(Ne(d1),kt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),KI(()=>{this.componentLoaders.delete(n)})),i=new EO(r,()=>new Zn).pipe(WI());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function IX(t,e,n,r){return ji(t.loadChildren()).pipe(Ne(d1),bt(i=>i instanceof tM||Array.isArray(i)?q(i):Rt(e.compileModuleAsync(i))),Ne(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get($a,[],{optional:!0,self:!0}).flat()),{routes:o.map(cE),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(KI(()=>{this.childrenLoaders.delete(r)})),o=new EO(s,()=>new Zn).pipe(WI());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function d1(t){return function EX(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Sp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Zn,this.transitionAbortSubject=new Zn,this.configLoader=F(fE),this.environmentInjector=F(jn),this.urlSerializer=F(ol),this.rootContexts=F(hl),this.inputBindingEnabled=null!==F(Tp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new fY(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new hY(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Vn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ll,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($i(s=>0!==s.id),Ne(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),_r(s=>{this.currentTransition=s;let o=!1,a=!1;return q(s).pipe(kt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_r(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Oa(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),mr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return q(u).pipe(_r(h=>{const f=this.transitions?.getValue();return this.events.next(new vp(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?mr:Promise.resolve(h)}),function pX(t,e,n,r,i,s){return bt(o=>function lX(t,e,n,r,i,s,o="emptyOnly"){return new dX(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ne(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),kt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new jO(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=u,v=new vp(h,this.urlSerializer.serialize(f),p,g);this.events.next(v);const _=WO(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:_,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},q(s)}{const h="";return this.events.next(new Oa(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),mr}}),kt(u=>{const c=new uY(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Ne(u=>(this.currentTransition=s={...u,guards:MY(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function HY(t,e){return bt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?q({...n,guardsResult:!0}):function zY(t,e,n,r){return Rt(t).pipe(bt(i=>function XY(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?q(s.map(a=>{const u=pl(e)??i,c=Va(a,u);return ji(function $Y(t){return t&&_l(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Bs())})).pipe(Ua()):q(!0)}(i.component,i.route,n,e,r)),Bs(i=>!0!==i,!0))}(o,r,i,t).pipe(bt(a=>a&&function LY(t){return"boolean"==typeof t}(a)?function WY(t,e,n,r){return Rt(e).pipe(rl(i=>zI(function KY(t,e){return null!==t&&e&&e(new pY(t)),q(!0)}(i.route.parent,r),function qY(t,e){return null!==t&&e&&e(new mY(t)),q(!0)}(i.route,r),function YY(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function kY(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>IO(()=>q(o.guards.map(u=>{const c=pl(o.node)??n,l=Va(u,c);return ji(function BY(t){return t&&_l(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Bs())})).pipe(Ua())));return q(s).pipe(Ua())}(t,i.path,n),function QY(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(s=>IO(()=>{const o=pl(e)??n,a=Va(s,o);return ji(function UY(t){return t&&_l(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Bs())}));return q(i).pipe(Ua())}(t,i.route,n))),Bs(i=>!0!==i,!0))}(r,s,t,e):q(a)),Ne(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),kt(u=>{if(s.guardsResult=u.guardsResult,Gs(u.guardsResult))throw XO(0,u.guardsResult);const c=new cY(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),$i(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),hE(u=>{if(u.guards.canActivateChecks.length)return q(u).pipe(kt(c=>{const l=new lY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),_r(c=>{let l=!1;return q(c).pipe(function gX(t,e){return bt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let s=0;return Rt(i).pipe(rl(o=>function mX(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!l1(i)&&(s[il]=i.title),function _X(t,e,n,r){const i=function yX(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return q({});const s={};return Rt(i).pipe(bt(o=>function vX(t,e,n,r){const i=pl(e)??r,s=Va(t,i);return ji(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Bs(),kt(a=>{s[o]=a}))),qI(1),function xQ(t){return Ne(()=>t)}(s),$s(o=>n1(o)?mr:nl(o)))}(s,t,e,r).pipe(Ne(o=>(t._resolvedData=o,t.data=qO(t,n).resolve,i&&l1(i)&&(t.data[il]=i.title),null)))}(o.route,r,t,e)),kt(()=>s++),qI(1),bt(o=>s===i.length?q(n):mr))})}(n.paramsInheritanceStrategy,this.environmentInjector),kt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),kt(c=>{const l=new dY(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),hE(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(kt(h=>{l.component=h}),Ne(()=>{})));for(const h of l.children)d.push(...c(h));return d};return HI(c(u.targetSnapshot.root)).pipe(hp(),xa(1))}),hE(()=>this.afterPreactivation()),Ne(u=>{const c=function TY(t,e,n){const r=fl(t,e._root,n?n._root:void 0);return new zO(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),kt(()=>{this.events.next(new eE)}),((t,e,n,r)=>Ne(i=>(new xY(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),xa(1),kt({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function MQ(t){return ft((e,n)=>{Ln(t).subscribe(pt(n,()=>n.complete(),i_)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(kt(u=>{throw u}))),KI(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),$s(u=>{if(a=!0,JO(u))this.events.next(new dl(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function DY(t){return JO(t)&&Gs(t.url)}(u)?this.events.next(new tE(u.url)):s.resolve(!1);else{this.events.next(new Ip(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return mr}))}))}cancelNavigationTransition(n,r,i){const s=new dl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function h1(t){return t!==ll}let f1=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===te);return r}getResolvedTitleForRoute(n){return n.data[il]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:function(){return F(TX)},providedIn:"root"})}return t})(),TX=(()=>{class t extends f1{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(B(gO))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:function(){return F(DX)},providedIn:"root"})}return t})();class CX{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let DX=(()=>{class t extends CX{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function Z0(t){return qr(()=>{const e=t.prototype.constructor,n=e[Kr]||ny(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Kr]||ny(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}();static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const bp=new L("",{providedIn:"root",factory:()=>({})});let AX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:function(){return F(SX)},providedIn:"root"})}return t})(),SX=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var yl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(yl||{});function p1(t,e){t.events.pipe($i(n=>n instanceof Gi||n instanceof dl||n instanceof Ip||n instanceof Oa),Ne(n=>n instanceof Gi||n instanceof Oa?yl.COMPLETE:n instanceof dl&&(0===n.code||1===n.code)?yl.REDIRECTING:yl.FAILED),$i(n=>n!==yl.REDIRECTING),xa(1)).subscribe(()=>{e()})}function bX(t){throw t}function RX(t,e,n){return e.parse("/")}const PX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=F(KM),this.isNgZoneEnabled=!1,this._events=new Zn,this.options=F(bp,{optional:!0})||{},this.pendingTasks=F(QM),this.errorHandler=this.options.errorHandler||bX,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||RX,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=F(AX),this.routeReuseStrategy=F(wX),this.titleStrategy=F(f1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=F($a,{optional:!0})?.flat()??[],this.navigationTransitions=F(Sp),this.urlSerializer=F(ol),this.location=F(vI),this.componentInputBindingEnabled=!!F(Tp,{optional:!0}),this.eventsSubscription=new fn,this.isNgZoneEnabled=F(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ka,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=WO(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(g1(r)&&this._events.next(r));if(r instanceof vp)h1(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Oa)this.rawUrlTree=i.rawUrl;else if(r instanceof jO){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof eE)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof dl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof tE){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||h1(i.source)};this.scheduleNavigation(s,ll,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Ip&&this.restoreHistory(i,!0),r instanceof Gi&&(this.navigated=!0),g1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ll,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(cE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=OO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return FO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Gs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ll,null,r)}navigate(n,r={skipLocationChange:!1}){return function xX(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new A(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...PX}:!1===r?{...NX}:r,Gs(n))return AO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return AO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return p1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function g1(t){return!(t instanceof eE||t instanceof tE)}class m1{}let OX=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe($i(n=>n instanceof Gi),rl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Uv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Rt(i).pipe(Mo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):q(null);const s=i.pipe(bt(o=>null===o?q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Rt([s,this.loader.loadComponent(r)]).pipe(Mo()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(B(qn),B(YM),B(jn),B(m1),B(fE))};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const gE=new L("");let _1=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof vp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Gi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Oa&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof GO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new GO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function UP(){throw new Error("invalid")}()};static#t=this.\u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function ui(t,e){return{\u0275kind:t,\u0275providers:e}}function v1(){const t=F(rn);return e=>{const n=t.get(Ra);if(e!==n.components[0])return;const r=t.get(qn),i=t.get(I1);1===t.get(mE)&&r.initialNavigation(),t.get(E1,null,oe.Optional)?.setUpPreloading(),t.get(gE,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const I1=new L("",{factory:()=>new Zn}),mE=new L("",{providedIn:"root",factory:()=>1}),E1=new L("");function UX(t){return ui(0,[{provide:E1,useExisting:OX},{provide:m1,useExisting:t}])}const T1=new L("ROUTER_FORROOT_GUARD"),$X=[vI,{provide:ol,useClass:QI},qn,hl,{provide:La,useFactory:function y1(t){return t.routerState.root},deps:[qn]},fE,[]];function jX(){return new rk("Router",qn)}let w1=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[$X,[],{provide:$a,multi:!0,useValue:n},{provide:T1,useFactory:WX,deps:[[qn,new $t,new qh]]},{provide:bp,useValue:r||{}},r?.useHash?{provide:Us,useClass:W8}:{provide:Us,useClass:Mk},{provide:gE,useFactory:()=>{const t=F(fK),e=F(Ie),n=F(bp),r=F(Sp),i=F(ol);return n.scrollOffset&&t.setOffset(n.scrollOffset),new _1(i,r,t,e,n)}},r?.preloadingStrategy?UX(r.preloadingStrategy).\u0275providers:[],{provide:rk,multi:!0,useFactory:jX},r?.initialNavigation?qX(r):[],r?.bindToComponentInputs?ui(8,[YO,{provide:Tp,useExisting:YO}]).\u0275providers:[],[{provide:C1,useFactory:v1},{provide:aI,multi:!0,useExisting:C1}]]}}static forChild(n){return{ngModule:t,providers:[{provide:$a,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(B(T1,8))};static#t=this.\u0275mod=vr({type:t});static#n=this.\u0275inj=Jn({})}return t})();function WX(t){return"guarded"}function qX(t){return["disabled"===t.initialNavigation?ui(3,[{provide:Jv,multi:!0,useFactory:()=>{const e=F(qn);return()=>{e.setUpLocationChangeListener()}}},{provide:mE,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ui(2,[{provide:mE,useValue:0},{provide:Jv,multi:!0,deps:[rn],useFactory:e=>{const n=e.get(H8,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(qn),s=e.get(I1);p1(i,()=>{r(!0)}),e.get(Sp).afterPreactivation=()=>(r(!0),s.closed?q(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const C1=new L("");function QX(t,e){if(1&t&&(Ta(0,"li"),bv(1),wa()),2&t){const n=e.$implicit;Jy(1),Pv(" ",n.nota," - ",n.fecha," - ",n.etiquetas.join(", ")," ")}}const YX=[{path:"",component:(()=>{class t{constructor(){this.tareas=[]}getAllTareas(){return this.tareas}getTareaById(n){return this.tareas.find(r=>r.id===n)}addTarea(n){this.tareas.push(n)}updateTarea(n){const r=this.tareas.findIndex(i=>i.id===n.id);-1!==r&&(this.tareas[r]=n)}deleteTarea(n){this.tareas=this.tareas.filter(r=>r.id!==n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Rh({type:t,selectors:[["app-inicio"]],decls:4,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(Ta(0,"p"),bv(1,"inicio works!"),wa(),Ta(2,"ul"),function AN(t,e,n,r,i,s,o,a){const u=T(),c=le(),l=t+ae,d=c.firstCreatePass?function u6(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ha(e,t,4,o||null,Mi(c,a));sv(e,n,l,Mi(c,u)),Lh(e,l);const d=l.tView=iv(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];wr(d,!1);const h=SN(c,u,d,t);Fh()&&sf(c,u,h,d),jt(h,u),Df(u,u[l]=KP(h,u,h,d)),xh(d)&&nv(c,u,d),null!=o&&rv(u,d,a)}(3,QX,2,3,"li",0),wa()),2&r&&(Jy(3),yv("ngForOf",i.tareas))},dependencies:[zk]})}return t})()}];let XX=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vr({type:t});static#n=this.\u0275inj=Jn({imports:[w1.forRoot(YX),w1]})}return t})(),ZX=(()=>{class t{constructor(){this.title="Prueba"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Rh({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&kf(0,"router-outlet")},dependencies:[aE]})}return t})();function D1(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function M(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){D1(s,r,i,o,a,"next",u)}function a(u){D1(s,r,i,o,a,"throw",u)}o(void 0)})}}const P=function(t,e){if(!t)throw ja(e)},ja=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},A1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},yE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(A1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new eZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S1=function(t){const e=A1(t);return yE.encodeByteArray(e,!0)},Rp=function(t){return S1(t).replace(/\./g,"")},Pp=function(t){try{return yE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tZ(t){return b1(void 0,t)}function b1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!nZ(n)||(t[n]=b1(t[n],e[n]));return t}function nZ(t){return"__proto__"!==t}const Np=()=>{try{return function rZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},R1=t=>{const e=(t=>{var e,n;return null===(n=null===(e=Np())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},P1=()=>{var t;return null===(t=Np())||void 0===t?void 0:t.config};class xp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function N1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rp(JSON.stringify({alg:"none",type:"JWT"})),Rp(JSON.stringify(o)),""].join(".")}function Nn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function x1(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class Hi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vl.prototype.create)}}class vl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function pZ(t,e){return t.replace(gZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Hi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const gZ=/\{\$([^}]+)}/g;function Il(t){return JSON.parse(t)}function Ot(t){return JSON.stringify(t)}const Mp=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Il(Pp(s[0])||""),n=Il(Pp(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function li(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ga(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function M1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function IE(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(k1(s)&&k1(o)){if(!IE(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function k1(t){return null!==t&&"object"==typeof t}function EE(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class yZ{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,l,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),l=1518500249):(c=s^o^a,l=1859775393):d<60?(c=s&o|a&(s|o),l=2400959708):(c=s^o^a,l=3395469782);const h=(i<<5|i>>>27)+c+u+l+r[d]&4294967295;u=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class IZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function EZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=TE),void 0===i.error&&(i.error=TE),void 0===i.complete&&(i.complete=TE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TE(){}const Fp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function Ha(t){return t&&t._delegate?t._delegate:t}class zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hs="[DEFAULT]";class bZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function PZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return M(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Hs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class NZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const wE=[];var _e=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(_e||{});const O1={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},xZ=_e.INFO,MZ={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},kZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=MZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Lp{constructor(e){this.name=e,this._logLevel=xZ,this._logHandler=kZ,this._userLogHandler=null,wE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?O1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const OZ=(t,e)=>e.some(n=>t instanceof n);let F1,L1;const V1=new WeakMap,CE=new WeakMap,U1=new WeakMap,DE=new WeakMap,AE=new WeakMap;let SE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return CE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||U1.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function jZ(t){return"function"==typeof t?function $Z(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function LZ(){return L1||(L1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(bE(this),e),Wi(V1.get(this))}:function(...e){return Wi(t.apply(bE(this),e))}:function(e,...n){const r=t.call(bE(this),e,...n);return U1.set(r,e.sort?e.sort():[e]),Wi(r)}}(t):(t instanceof IDBTransaction&&function UZ(t){if(CE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});CE.set(t,e)}(t),OZ(t,function FZ(){return F1||(F1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,SE):t)}function Wi(t){if(t instanceof IDBRequest)return function VZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&V1.set(n,t)}).catch(()=>{}),AE.set(e,t),e}(t);if(DE.has(t))return DE.get(t);const e=jZ(t);return e!==t&&(DE.set(t,e),AE.set(e,t)),e}const bE=t=>AE.get(t),HZ=["get","getKey","getAll","getAllKeys","count"],zZ=["put","add","delete","clear"],RE=new Map;function B1(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(RE.get(e))return RE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!HZ.includes(n))return;const s=function(){var o=M(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return RE.set(e,s),s}!function BZ(t){SE=t(SE)}(t=>({...t,get:(e,n,r)=>B1(e,n)||t.get(e,n,r),has:(e,n)=>!!B1(e,n)||t.has(e,n)}));class WZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function qZ(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const PE="@firebase/app",zs=new Lp("@firebase/app"),Vp="[DEFAULT]",vJ={[PE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ws=new Map,Up=new Map;function IJ(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(Up.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;Up.set(e,t);for(const n of Ws.values())IJ(n,t);return!0}function NE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const di=new vl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class TJ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}const El="10.6.0";function j1(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Vp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=P1()),!n)throw di.create("no-options");const s=Ws.get(i);if(s){if(IE(n,s.options)&&IE(r,s.config))return s;throw di.create("duplicate-app",{appName:i})}const o=new NZ(i);for(const u of Up.values())o.addComponent(u);const a=new TJ(n,r,o);return Ws.set(i,a),a}function xE(t=Vp){const e=Ws.get(t);if(!e&&t===Vp&&P1())return j1();if(!e)throw di.create("no-app",{appName:t});return e}function G1(){return Array.from(Ws.values())}function cn(t,e,n){var r;let i=null!==(r=vJ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void zs.warn(a.join(" "))}qs(new zi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const wJ="firebase-heartbeat-database",CJ=1,Tl="firebase-heartbeat-store";let kE=null;function H1(){return kE||(kE=function GZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Wi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Wi(o.result),u.oldVersion,u.newVersion,Wi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(wJ,CJ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Tl)}}).catch(t=>{throw di.create("idb-open",{originalErrorMessage:t.message})})),kE}function OE(){return(OE=M(function*(t){try{return yield(yield H1()).transaction(Tl).objectStore(Tl).get(W1(t))}catch(e){if(e instanceof Hi)zs.warn(e.message);else{const n=di.create("idb-get",{originalErrorMessage:e?.message});zs.warn(n.message)}}})).apply(this,arguments)}function z1(t,e){return FE.apply(this,arguments)}function FE(){return(FE=M(function*(t,e){try{const r=(yield H1()).transaction(Tl,"readwrite");yield r.objectStore(Tl).put(e,W1(t)),yield r.done}catch(n){if(n instanceof Hi)zs.warn(n.message);else{const r=di.create("idb-set",{originalErrorMessage:n?.message});zs.warn(r.message)}}})).apply(this,arguments)}function W1(t){return`${t.name}!${t.options.appId}`}class bJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PJ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return M(function*(){var n;const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=q1();if(null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(o=>o.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return M(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=q1(),{heartbeatsToSend:i,unsentEntries:s}=function RJ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),K1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),K1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Rp(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function q1(){return(new Date).toISOString().substring(0,10)}class PJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return M(function*(){return!!function dZ(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function hZ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return M(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function DJ(t){return OE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return M(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return z1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return M(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return z1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function K1(t){return Rp(JSON.stringify({version:2,heartbeats:t})).length}!function NJ(t){qs(new zi("platform-logger",e=>new WZ(e),"PRIVATE")),qs(new zi("heartbeat",e=>new bJ(e),"PRIVATE")),cn(PE,"0.9.23",t),cn(PE,"0.9.23","esm2017"),cn("fire-js","")}(""),cn("firebase","10.6.0","app");class kJ extends fn{constructor(e,n){super()}schedule(e,n=0){return this}}const Bp={setInterval(t,e,...n){const{delegate:r}=Bp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Bp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class Q1 extends kJ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Bp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Bp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const Y1={now:()=>(Y1.delegate||Date).now(),delegate:void 0};class wl{constructor(e,n=wl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}wl.now=Y1.now;class X1 extends wl{constructor(e,n=wl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const LJ=new class FJ extends X1{}(class OJ extends Q1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),VJ=new X1(Q1),$p=new Nc("ANGULARFIRE2_VERSION");function LE(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const jp=(t,e)=>{const n=e?[e]:G1(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class Z1{constructor(){return jp(UJ)}}const UJ="app-check";function za(){}class J1{zone;delegate;constructor(e,n=LJ){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class BJ{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",za,{},za,za)),n.pipe(kt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let VE=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new J1(Zone.current)),this.insideAngular=n.run(()=>new J1(Zone.current,VJ)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(B(Ie))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wa(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ks(t){return Wa().ngZone.run(()=>t())}function jJ(t){return function GJ(t){return function(n){return(n=n.lift(new BJ(t.ngZone))).pipe(vh(t.outsideAngular),yh(t.insideAngular))}}(Wa())(t)}const HJ=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ks(()=>t.apply(void 0,r))},UE=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=Ks(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",za,{},za,za))),r[s]=HJ(r[s],n));const i=function $J(t){return Wa().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof tt){const s=Wa();return i.pipe(vh(s.outsideAngular),yh(s.insideAngular))}return Ks(()=>i)}return i instanceof tt?i.pipe(jJ):i instanceof Promise?Ks(()=>new Promise((s,o)=>i.then(a=>Ks(()=>s(a)),a=>Ks(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ks(()=>i)};class qa{constructor(e){return e}}class BE{constructor(){return G1()}}const $E=new L("angularfire2._apps"),WJ={provide:qa,useFactory:function zJ(t){return t&&1===t.length?t[0]:new qa(xE())},deps:[[new $t,$E]]},qJ={provide:BE,deps:[[new $t,$E]]};function KJ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new qa(r)}}let QJ=(()=>{class t{constructor(n){cn("angularfire",$p.full,"core"),cn("angularfire",$p.full,"app"),cn("angular",pP.full,n.toString())}static \u0275fac=function(r){return new(r||t)(B(Ms))};static \u0275mod=vr({type:t});static \u0275inj=Jn({providers:[WJ,qJ]})}return t})();function YJ(t,...e){return{ngModule:QJ,providers:[{provide:$E,useFactory:KJ(t),multi:!0,deps:[Ie,rn,VE,...e]}]}}const XJ=UE(j1,!0);const ZJ=function eF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tF=new vl("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gp=new Lp("@firebase/auth");function Hp(t,...e){Gp.logLevel<=_e.ERROR&&Gp.error(`Auth (${El}): ${t}`,...e)}function En(t,...e){throw jE(t,...e)}function Nr(t,...e){return jE(t,...e)}function jE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tF.create(t,...e)}function S(t,e,...n){if(!t)throw jE(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hp(e),new Error(e)}function qi(t,e){t||xr(e)}function rF(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function eee(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function GE(){return"http:"===rF()||"https:"===rF()}()||function lZ(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=vE()||x1()}get(){return eee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class iF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ree=new Dl(3e4,6e4);function Be(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function $e(t,e,n,r){return zE.apply(this,arguments)}function zE(){return(zE=M(function*(t,e,n,r,i={}){return sF(t,i,M(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=EE(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),iF.fetch()(oF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function sF(t,e,n){return WE.apply(this,arguments)}function WE(){return(WE=M(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nee),e);try{const i=new see(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Al(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Al(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Al(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Al(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function nF(t,e,n){const r=Object.assign(Object.assign({},ZJ()),{[e]:n});return new vl("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);En(t,l)}}catch(i){if(i instanceof Hi)throw i;En(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function oF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function HE(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class see{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),ree.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Al(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nr(t,e,r);return i.customData._tokenResponse=n,i}function YE(){return(YE=M(function*(t,e){return $e(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function ZE(){return(ZE=M(function*(t,e){return $e(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function JE(){return(JE=M(function*(t,e=!1){const n=Ha(t),r=yield n.getIdToken(e),i=zp(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Sl(eT(i.auth_time)),issuedAtTime:Sl(eT(i.iat)),expirationTime:Sl(eT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function eT(t){return 1e3*Number(t)}function zp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Hp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pp(n);return i?JSON.parse(i):(Hp("Failed to decode base64 JWT payload"),null)}catch(i){return Hp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function fi(t,e){return tT.apply(this,arguments)}function tT(){return(tT=M(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Hi&&function hee({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class fee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(M(function*(){yield n.iteration()}),r)}iteration(){var e=this;return M(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class dF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function bl(t){return nT.apply(this,arguments)}function nT(){return nT=M(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield fi(t,function cee(t,e){return ZE.apply(this,arguments)}(n,{idToken:r}));S(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function mee(t){return t.map(e=>{var{providerId:n}=e,r=h_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function gee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dF(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),nT.apply(this,arguments)}function rT(){return(rT=M(function*(t){const e=Ha(t);yield bl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function iT(){return(iT=M(function*(t,e){const n=yield sF(t,{},M(function*(){const r=EE({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=oF(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iF.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function sT(){return(sT=M(function*(t,e){return $e(t,"POST","/v2/accounts:revokeToken",Be(t,e))})).apply(this,arguments)}class Rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(typeof e.idToken<"u","internal-error"),S(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function dee(t){const e=zp(t);return S(e,"internal-error"),S(typeof e.exp<"u","internal-error"),S(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return M(function*(){return S(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return M(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function _ee(t,e){return iT.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Rl;return r&&(S("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(S("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(S("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rl,this.toJSON())}_performRefresh(){return xr("not implemented")}}function Ki(t,e){S("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Qs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=h_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return M(function*(){const r=yield fi(n,n.stsTokenManager.getToken(n.auth,e));return S(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function lee(t){return JE.apply(this,arguments)}(this,e)}reload(){return function pee(t){return rT.apply(this,arguments)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return M(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield bl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return M(function*(){const n=yield e.getIdToken();return yield fi(e,function aee(t,e){return YE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:D,isAnonymous:O,providerData:G,stsTokenManager:ye}=n;S(E&&ye,e,"internal-error");const It=Rl.fromJSON(this.name,ye);S("string"==typeof E,e,"internal-error"),Ki(d,e.name),Ki(h,e.name),S("boolean"==typeof D,e,"internal-error"),S("boolean"==typeof O,e,"internal-error"),Ki(f,e.name),Ki(p,e.name),Ki(g,e.name),Ki(m,e.name),Ki(v,e.name),Ki(_,e.name);const Ai=new Qs({uid:E,auth:e,email:h,emailVerified:D,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:It,createdAt:v,lastLoginAt:_});return G&&Array.isArray(G)&&(Ai.providerData=G.map(Xu=>Object.assign({},Xu))),m&&(Ai._redirectEventId=m),Ai}static _fromIdTokenResponse(e,n,r=!1){return M(function*(){const i=new Rl;i.updateFromServerResponse(n);const s=new Qs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bl(s),s})()}}const hF=new Map;function pi(t){qi(t instanceof Function,"Expected a class definition");let e=hF.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hF.set(t,e),e)}const fF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return M(function*(){return!0})()}_set(n,r){var i=this;return M(function*(){i.storage[n]=r})()}_get(n){var r=this;return M(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return M(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Wp(t,e,n){return`firebase:${t}:${e}:${n}`}class Qa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Wp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return M(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Qs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return M(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return M(function*(){if(!n.length)return new Qa(pi(fF),e,r);const i=(yield Promise.all(n.map(function(){var c=M(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||pi(fF);const o=Wp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Qs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=M(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Qa(s,e,r)):new Qa(s,e,r)})()}}function pF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function _F(t=Nn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function gF(t=Nn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function vF(t=Nn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function IF(t=Nn()){return/webos/i.test(t)}(e))return"Webos";if(function oT(t=Nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function mF(t=Nn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function yF(t=Nn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function EF(t,e=[]){let n;switch(t){case"Browser":n=pF(Nn());break;case"Worker":n=`${pF(Nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${El}/${r}`}class Eee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return M(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function aT(){return(aT=M(function*(t,e={}){return $e(t,"GET","/v2/passwordPolicy",Be(t,e))})).apply(this,arguments)}class Cee{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(s=u.containsUppercaseLetter)||void 0===s||s),u.isValid&&(u.isValid=null===(o=u.containsNumericCharacter)||void 0===o||o),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Dee{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TF(this),this.idTokenSubscription=new TF(this),this.beforeStateQueue=new Eee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(M(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Qa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return M(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return M(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return S(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return M(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return M(function*(){try{yield bl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function tee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return M(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return M(function*(){const r=e?Ha(e):null;return r&&S(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return M(function*(){if(!r._deleted)return e&&S(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(M(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return M(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(M(function*(){yield n.assertedPersistence.setPersistence(pi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return M(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return M(function*(){const n=yield function Tee(t){return aT.apply(this,arguments)}(e),r=new Cee(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return M(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function yee(t,e){return sT.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return M(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return M(function*(){if(!n.redirectPersistenceManager){const r=e&&pi(e)||n._popupRedirectResolver;S(r,n,"argument-error"),n.redirectPersistenceManager=yield Qa.create(n,[pi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return M(function*(){var r,i;return n._isInitialized&&(yield n.queue(M(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return M(function*(){if(e===n.currentUser)return n.queue(M(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(S(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}{const u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){var n=this;return M(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return M(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return M(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function JJ(t,...e){Gp.logLevel<=_e.WARN&&Gp.warn(`Auth (${El}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class TF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function vZ(t,e){const n=new IZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function wF(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Dl(3e4,6e4),new Dl(2e3,1e4),new Dl(3e4,6e4),new Dl(5e3,15e3),encodeURIComponent("fac");var eL="@firebase/auth";class Sne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return M(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Np(),function Rne(t){qs(new zi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;S(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EF(t)},c=new Dee(r,i,s,u);return function xee(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qs(new zi("auth-internal",e=>{const n=function st(t){return Ha(t)}(e.getProvider("auth").getImmediate());return new Sne(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cn(eL,"1.4.0",function bne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),cn(eL,"1.4.0","esm2017")}("Browser");class Zw{constructor(){return jp("auth")}}var N,Fne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lr={},eC=eC||{},X=Fne||self;function sg(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ol(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var tC="closure_uid_"+(1e9*Math.random()>>>0),Vne=0;function Une(t,e,n){return t.call.apply(t.bind,arguments)}function Bne(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return(Ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Une:Bne).apply(null,arguments)}function og(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Et(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Qi(){this.s=this.s,this.o=this.o}Qi.prototype.s=!1,Qi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Lne(t){Object.prototype.hasOwnProperty.call(t,tC)&&t[tC]||(t[tC]=++Vne)}(this)},Qi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function nC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function sL(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(sg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var jne=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{X.addEventListener("test",()=>{},e),X.removeEventListener("test",()=>{},e)}catch{}return t}();function Fl(t){return/^[\s\xa0]*$/.test(t)}function ag(){var t=X.navigator;return t&&(t=t.userAgent)?t:""}function Mr(t){return-1!=ag().indexOf(t)}function rC(t){return rC[" "](t),t}rC[" "]=function(){};var sC,Hne=Mr("Opera"),Ya=Mr("Trident")||Mr("MSIE"),oL=Mr("Edge"),iC=oL||Ya,aL=Mr("Gecko")&&!(-1!=ag().toLowerCase().indexOf("webkit")&&!Mr("Edge"))&&!(Mr("Trident")||Mr("MSIE"))&&!Mr("Edge"),zne=-1!=ag().toLowerCase().indexOf("webkit")&&!Mr("Edge");function uL(){var t=X.document;return t?t.documentMode:void 0}e:{var oC="",aC=function(){var t=ag();return aL?/rv:([^\);]+)(\)|;)/.exec(t):oL?/Edge\/([\d\.]+)/.exec(t):Ya?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):zne?/WebKit\/(\S+)/.exec(t):Hne?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(aC&&(oC=aC?aC[1]:""),Ya){var uC=uL();if(null!=uC&&uC>parseFloat(oC)){sC=String(uC);break e}}sC=oC}var Wne=X.document&&Ya&&(uL()||parseInt(sC,10))||void 0;function Ll(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(aL){e:{try{rC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:qne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ll.$.h.call(this)}}Et(Ll,zt);var qne={2:"touch",3:"pen",4:"mouse"};Ll.prototype.h=function(){Ll.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vl="closure_listenable_"+(1e6*Math.random()|0),Kne=0;function Qne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Kne,this.fa=this.ia=!1}function ug(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function lC(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lL(t){const e={};for(const n in t)e[n]=t[n];return e}const dL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<dL.length;s++)n=dL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cg(t){this.src=t,this.g={},this.h=0}function dC(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=iL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ug(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function hC(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}cg.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=hC(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Qne(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var fC="closure_lm_"+(1e6*Math.random()|0),pC={};function fL(t,e,n,r,i){if(r&&r.once)return gL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)fL(t,e[s],n,r,i);return null}return n=yC(n),t&&t[Vl]?t.O(e,n,Ol(r)?!!r.capture:!!r,i):pL(t,e,n,!1,r,i)}function pL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ol(i)?!!i.capture:!!i,a=mC(t);if(a||(t[fC]=a=new cg(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Xne(){const e=Zne;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)jne||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_L(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)gL(t,e[s],n,r,i);return null}return n=yC(n),t&&t[Vl]?t.P(e,n,Ol(r)?!!r.capture:!!r,i):pL(t,e,n,!0,r,i)}function mL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)mL(t,e[s],n,r,i);else r=Ol(r)?!!r.capture:!!r,n=yC(n),t&&t[Vl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=hC(s=t.g[e],n,r,i))&&(ug(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=mC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=hC(e,n,r,i)),(n=-1<t?e[t]:null)&&gC(n))}function gC(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Vl])dC(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_L(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mC(e))?(dC(n,t),0==n.h&&(n.src=null,e[fC]=null)):ug(t)}}}function _L(t){return t in pC?pC[t]:pC[t]="on"+t}function Zne(t,e){if(t.fa)t=!0;else{e=new Ll(e,this);var n=t.listener,r=t.la||t.src;t.ia&&gC(t),t=n.call(r,e)}return t}function mC(t){return(t=t[fC])instanceof cg?t:null}var _C="__closure_events_fn_"+(1e9*Math.random()>>>0);function yC(t){return"function"==typeof t?t:(t[_C]||(t[_C]=function(e){return t.handleEvent(e)}),t[_C])}function Tt(){Qi.call(this),this.i=new cg(this),this.S=this,this.J=null}function Ft(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var i=e;hL(e=new zt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=lg(o,r,!0,e)&&i}if(i=lg(o=e.g=t,r,!0,e)&&i,i=lg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=lg(o=e.g=n[s],r,!1,e)&&i}function lg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&dC(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Et(Tt,Qi),Tt.prototype[Vl]=!0,Tt.prototype.removeEventListener=function(t,e,n,r){mL(this,t,e,n,r)},Tt.prototype.N=function(){if(Tt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ug(n[r]);delete t.g[e],t.h--}}this.J=null},Tt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Tt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var vC=X.JSON.stringify;function ere(){var t=IC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var yL=new class Jne{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new nre,t=>t.reset());class nre{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function rre(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ire(t){X.setTimeout(()=>{throw t},0)}let Ul,Bl=!1,IC=new class tre{constructor(){this.h=this.g=null}add(e,n){const r=yL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},vL=()=>{const t=X.Promise.resolve(void 0);Ul=()=>{t.then(sre)}};var sre=()=>{for(var t;t=ere();){try{t.h.call(t.g)}catch(n){ire(n)}var e=yL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bl=!1};function dg(t,e){Tt.call(this),this.h=t||1,this.g=e||X,this.j=Ht(this.qb,this),this.l=Date.now()}function EC(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function TC(t,e,n){if("function"==typeof t)n&&(t=Ht(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ht(t.handleEvent,t)}return 2147483647<Number(e)?-1:X.setTimeout(t,e||0)}function IL(t){t.g=TC(()=>{t.g=null,t.i&&(t.i=!1,IL(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Et(dg,Tt),(N=dg.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ft(this,"tick"),this.ga&&(EC(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){dg.$.N.call(this),EC(this),delete this.g};class ore extends Qi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:IL(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $l(t){Qi.call(this),this.h=t,this.g={}}Et($l,Qi);var EL=[];function TL(t,e,n,r){Array.isArray(n)||(n&&(EL[0]=n.toString()),n=EL);for(var i=0;i<n.length;i++){var s=fL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function wL(t){lC(t.g,function(e,n){this.g.hasOwnProperty(n)&&gC(e)},t),t.g={}}function hg(){this.g=!0}function Xa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function lre(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return vC(n)}catch{return e}}(t,n)+(r?" "+r:"")})}$l.prototype.N=function(){$l.$.N.call(this),wL(this)},$l.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hg.prototype.Ea=function(){this.g=!1},hg.prototype.info=function(){};var Js={},CL=null;function fg(){return CL=CL||new Tt}function DL(t){zt.call(this,Js.Ta,t)}function jl(t){const e=fg();Ft(e,new DL(e))}function AL(t,e){zt.call(this,Js.STAT_EVENT,t),this.stat=e}function ln(t){const e=fg();Ft(e,new AL(e,t))}function SL(t,e){zt.call(this,Js.Ua,t),this.size=e}function Gl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){t()},e)}Js.Ta="serverreachability",Et(DL,zt),Js.STAT_EVENT="statevent",Et(AL,zt),Js.Ua="timingevent",Et(SL,zt);var pg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wC(){}function PL(){}wC.prototype.h=null;var AC,Hl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function CC(){zt.call(this,"d")}function DC(){zt.call(this,"c")}function gg(){}function zl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new $l(this),this.P=dre,this.V=new dg(t=iC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new NL}function NL(){this.i=null,this.g="",this.h=!1}Et(CC,zt),Et(DC,zt),Et(gg,wC),gg.prototype.g=function(){return new XMLHttpRequest},gg.prototype.i=function(){return{}},AC=new gg;var dre=45e3,SC={},mg={};function bC(t,e,n){t.L=1,t.v=Ig(mi(e)),t.s=n,t.S=!0,xL(t,null)}function xL(t,e){t.G=Date.now(),Wl(t),t.A=mi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),jL(n.i,"t",r),t.C=0,n=t.l.J,t.h=new NL,t.g=hV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new ore(Ht(t.Pa,t,t.g),t.O)),TL(t.U,t.g,"readystatechange",t.nb),e=t.I?lL(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),jl(),function are(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function ML(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function kL(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=hre(t,n),i==mg){4==e&&(t.o=4,ln(14),r=!1),Xa(t.j,t.m,null,"[Incomplete Response]");break}if(i==SC){t.o=4,ln(15),Xa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Xa(t.j,t.m,i,null),RC(t,i)}ML(t)&&i!=mg&&i!=SC&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ln(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),FC(e),e.M=!0,ln(11))):(Xa(t.j,t.m,n,"[Invalid Chunked Response]"),eo(t),ql(t))}function hre(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?mg:(n=Number(e.substring(n,r)),isNaN(n)?SC:(r+=1)+n>e.length?mg:(e=e.slice(r,r+n),t.C=r+n,e))}function Wl(t){t.Y=Date.now()+t.P,OL(t,t.P)}function OL(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Gl(Ht(t.lb,t),e)}function _g(t){t.B&&(X.clearTimeout(t.B),t.B=null)}function ql(t){0==t.l.H||t.J||uV(t.l,t)}function eo(t){_g(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,EC(t.V),wL(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function RC(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||PC(n.i,t)))if(!t.K&&PC(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Ag(n),Cg(n)}OC(n),ln(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Gl(Ht(n.ib,n),6e3));if(1>=zL(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else no(n,11)}else if((t.K||n.g==t)&&Ag(n),!Fl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(NC(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,je(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=dV(r,r.J?r.pa:null,r.Y),o.K){WL(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(_g(a),Wl(a)),r.g=o}else oV(r);0<n.j.length&&Dg(n)}else"stop"!=c[0]&&"close"!=c[0]||no(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?no(n,7):kC(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}jl()}catch{}}function FL(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(sg(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function pre(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(sg(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function fre(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(sg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=zl.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==kr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=kr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||iC||this.g&&(this.h.h||this.g.ja()||eV(this.g)))){this.J||4!=l||7==e||jl(),_g(this);var n=this.g.da();this.ca=n;t:if(ML(this)){var r=eV(this.g);t="";var i=r.length,s=4==kr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){eo(this),ql(this);var o="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function ure(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,ln(12),eo(this),ql(this);break e}Xa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,RC(this,n)}this.S?(kL(this,l,o),iC&&this.i&&3==l&&(TL(this.U,this.V,"tick",this.mb),this.V.start())):(Xa(this.j,this.m,o,null),RC(this,o)),4==l&&eo(this),this.i&&!this.J&&(4==l?uV(this.l,this):(this.i=!1,Wl(this)))}else(function xre(t){const e={};t=(t.g&&2<=kr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Fl(t[r]))continue;var n=rre(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Yne(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ln(12)):(this.o=0,ln(13)),eo(this),ql(this)}}}catch{}},N.mb=function(){if(this.g){var t=kr(this.g),e=this.g.ja();this.C<e.length&&(_g(this),kL(this,t,e),this.i&&4!=t&&Wl(this))}},N.cancel=function(){this.J=!0,eo(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function cre(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(jl(),ln(17)),eo(this),this.o=2,ql(this)):OL(this,this.Y-t)};var LL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function to(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof to){this.h=t.h,yg(this,t.j),this.s=t.s,this.g=t.g,vg(this,t.m),this.l=t.l;var e=t.i,n=new Yl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),VL(this,n),this.o=t.o}else t&&(e=String(t).match(LL))?(this.h=!1,yg(this,e[1]||"",!0),this.s=Kl(e[2]||""),this.g=Kl(e[3]||"",!0),vg(this,e[4]),this.l=Kl(e[5]||"",!0),VL(this,e[6]||"",!0),this.o=Kl(e[7]||"")):(this.h=!1,this.i=new Yl(null,this.h))}function mi(t){return new to(t)}function yg(t,e,n){t.j=n?Kl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function vg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function VL(t,e,n){e instanceof Yl?(t.i=e,function Ere(t,e){e&&!t.j&&(Yi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(BL(this,r),jL(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Ql(e,vre)),t.i=new Yl(e,t.h))}function je(t,e,n){t.i.set(e,n)}function Ig(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Kl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ql(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,mre),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mre(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}to.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ql(e,UL,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ql(e,UL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ql(n,"/"==n.charAt(0)?yre:_re,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ql(n,Ire)),t.join("")};var UL=/[#\/\?@]/g,_re=/[#\?:]/g,yre=/[#\?]/g,vre=/[#\?@]/g,Ire=/#/g;function Yl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Yi(t){t.g||(t.g=new Map,t.h=0,t.i&&function gre(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function BL(t,e){Yi(t),e=Za(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $L(t,e){return Yi(t),e=Za(t,e),t.g.has(e)}function jL(t,e,n){BL(t,e),0<n.length&&(t.i=null,t.g.set(Za(t,e),nC(n)),t.h+=n.length)}function Za(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function GL(t){this.l=t||wre,t=X.PerformanceNavigationTiming?0<(t=X.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Yl.prototype).add=function(t,e){Yi(this),this.i=null,t=Za(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){Yi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){Yi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){Yi(this);let e=[];if("string"==typeof t)$L(this,t)&&(e=e.concat(this.g.get(Za(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return Yi(this),this.i=null,$L(this,t=Za(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var wre=10;function HL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function zL(t){return t.h?1:t.g?t.g.size:0}function PC(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function NC(t,e){t.g?t.g.add(e):t.h=e}function WL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function qL(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return nC(t.i)}GL.prototype.cancel=function(){if(this.i=qL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Cre=class{stringify(t){return X.JSON.stringify(t,void 0)}parse(t){return X.JSON.parse(t,void 0)}};function Dre(){this.g=new Cre}function Are(t,e,n){const r=n||"";try{FL(t,function(i,s){let o=i;Ol(i)&&(o=vC(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Eg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Xl(t){this.l=t.ec||null,this.j=t.ob||!1}function Tg(t,e){Tt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=xC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Et(Xl,wC),Xl.prototype.g=function(){return new Tg(this.l,this.j)},Xl.prototype.i=function(t){return function(){return t}}({}),Et(Tg,Tt);var xC=0;function KL(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Zl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jl(t)}function Jl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=Tg.prototype).open=function(t,e){if(this.readyState!=xC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jl(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||X).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zl(this)),this.readyState=xC},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jl(this)),this.g&&(this.readyState=3,Jl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KL(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Zl(this):Jl(this),3==this.readyState&&KL(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Zl(this))},N.Ya=function(t){this.g&&(this.response=t,Zl(this))},N.ka=function(){this.g&&Zl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Tg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var bre=X.JSON.parse;function Je(t){Tt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=QL,this.L=this.M=!1}Et(Je,Tt);var QL="",Rre=/^https?$/i,Pre=["POST","PUT"];function YL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,XL(t),wg(t)}function XL(t){t.F||(t.F=!0,Ft(t,"complete"),Ft(t,"error"))}function ZL(t){if(t.h&&typeof eC<"u"&&(!t.C[1]||4!=kr(t)||2!=t.da()))if(t.v&&4==kr(t))TC(t.La,0,t);else if(Ft(t,"readystatechange"),4==kr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(LL)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!Rre.test(i?i.toLowerCase():"")}n=r}if(n)Ft(t,"complete"),Ft(t,"success");else{t.m=6;try{var s=2<kr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",XL(t)}}finally{wg(t)}}}function wg(t,e){if(t.g){JL(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ft(t,"ready");try{n.onreadystatechange=r}catch{}}}function JL(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(X.clearTimeout(t.A),t.A=null)}function kr(t){return t.g?t.g.readyState:0}function eV(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case QL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function tV(t){let e="";return lC(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function MC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tV(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):je(t,e,n))}function ed(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nV(t){this.Ga=0,this.j=[],this.l=new hg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ed("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ed("baseRetryDelayMs",5e3,t),this.hb=ed("retryDelaySeedMs",1e4,t),this.eb=ed("forwardChannelMaxRetries",2,t),this.xa=ed("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new GL(t&&t.concurrentRequestLimit),this.Ja=new Dre,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function kC(t){if(rV(t),3==t.H){var e=t.W++,n=mi(t.I);if(je(n,"SID",t.K),je(n,"RID",e),je(n,"TYPE","terminate"),td(t,n),(e=new zl(t,t.l,e)).L=2,e.v=Ig(mi(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&X.Image&&((new Image).src=e.v,n=!0),n||(e.g=hV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Wl(e)}lV(t)}function Cg(t){t.g&&(FC(t),t.g.cancel(),t.g=null)}function rV(t){Cg(t),t.u&&(X.clearTimeout(t.u),t.u=null),Ag(t),t.i.cancel(),t.m&&("number"==typeof t.m&&X.clearTimeout(t.m),t.m=null)}function Dg(t){if(!HL(t.i)&&!t.m){t.m=!0;var e=t.Na;Ul||vL(),Bl||(Ul(),Bl=!0),IC.add(e,t),t.C=0}}function iV(t,e){var n;n=e?e.m:t.W++;const r=mi(t.I);je(r,"SID",t.K),je(r,"RID",n),je(r,"AID",t.V),td(t,r),t.o&&t.s&&MC(r,t.o,t.s),n=new zl(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=sV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),NC(t.i,n),bC(n,r,e)}function td(t,e){t.na&&lC(t.na,function(n,r){je(e,r,n)}),t.h&&FL({},function(n,r){je(e,r,n)})}function sV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ht(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Are(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function oV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ul||vL(),Bl||(Ul(),Bl=!0),IC.add(e,t),t.A=0}}function OC(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Gl(Ht(t.Ma,t),cV(t,t.A)),t.A++,0))}function FC(t){null!=t.B&&(X.clearTimeout(t.B),t.B=null)}function aV(t){t.g=new zl(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=mi(t.wa);je(e,"RID","rpc"),je(e,"SID",t.K),je(e,"AID",t.V),je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&je(e,"TO",t.qa),je(e,"TYPE","xmlhttp"),td(t,e),t.o&&t.s&&MC(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ig(mi(e)),n.s=null,n.S=!0,xL(n,t)}function Ag(t){null!=t.v&&(X.clearTimeout(t.v),t.v=null)}function uV(t,e){var n=null;if(t.g==e){Ag(t),FC(t),t.g=null;var r=2}else{if(!PC(t.i,e))return;n=e.F,WL(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Ft(r=fg(),new SL(r,n)),Dg(t)}else oV(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Mre(t,e){return!(zL(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Gl(Ht(t.Na,t,e),cV(t,t.C)),t.C++,0)))}(t,e)||2==r&&OC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:no(t,5);break;case 4:no(t,10);break;case 3:no(t,6);break;default:no(t,2)}}function cV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function no(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Ht(t.pb,t);n||(n=new to("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||yg(n,"https"),Ig(n)),function Sre(t,e){const n=new hg;if(X.Image){const r=new Image;r.onload=og(Eg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=og(Eg,n,r,"TestLoadImage: error",!1,e),r.onabort=og(Eg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=og(Eg,n,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ln(2);t.H=0,t.h&&t.h.za(e),lV(t),rV(t)}function lV(t){if(t.H=0,t.ma=[],t.h){const e=qL(t.i);(0!=e.length||0!=t.j.length)&&(sL(t.ma,e),sL(t.ma,t.j),t.i.i.length=0,nC(t.j),t.j.length=0),t.h.ya()}}function dV(t,e,n){var r=n instanceof to?mi(n):new to(n);if(""!=r.g)e&&(r.g=e+"."+r.g),vg(r,r.m);else{var i=X.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new to(null);r&&yg(s,r),e&&(s.g=e),i&&vg(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&je(r,n,e),je(r,"VER",t.ra),td(t,r),r}function hV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(n&&t.Ha&&!t.va?new Xl({ob:!0}):t.va)).Oa(t.J),e}function fV(){}function Sg(){if(Ya&&!(10<=Number(Wne)))throw Error("Environmental error: no available transport.")}function xn(t,e){Tt.call(this),this.g=new nV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Fl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ja(this)}function pV(t){CC.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function gV(){DC.call(this),this.status=1}function Ja(t){this.g=t}function dr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function LC(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=Je.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():AC.g(),this.C=function RL(t){return t.h||(t.h=t.i())}(this.u?this.u:AC),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void YL(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=X.FormData&&t instanceof X.FormData,!(0<=iL(Pre,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{JL(this),0<this.B&&((this.L=function Nre(t){return Ya&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=TC(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){YL(this,s)}},N.ua=function(){typeof eC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ft(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ft(this,"complete"),Ft(this,"abort"),wg(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wg(this,!0)),Je.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?ZL(this):this.kb())},N.kb=function(){ZL(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),bre(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=nV.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new zl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=lL(s),hL(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=sV(this,i,e),je(n=mi(this.I),"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),td(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(tV(s)))+"&"+e:this.o&&MC(n,this.o,s)),NC(this.i,i),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),i.aa=!0,bC(i,n,null)):bC(i,n,e),this.H=2}}else 3==this.H&&(t?iV(this,t):0==this.j.length||HL(this.i)||iV(this))},N.Ma=function(){if(this.u=null,aV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Gl(Ht(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ln(10),Cg(this),aV(this))},N.ib=function(){null!=this.v&&(this.v=null,Cg(this),OC(this),ln(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ln(2)):(this.l.info("Failed to ping google.com"),ln(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=fV.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},Sg.prototype.g=function(t,e){return new xn(t,e)},Et(xn,Tt),xn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ln(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=dV(t,null,t.Y),Dg(t)},xn.prototype.close=function(){kC(this.g)},xn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=vC(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Dg(e)},xn.prototype.N=function(){this.g.h=null,delete this.j,kC(this.g),delete this.g,xn.$.N.call(this)},Et(pV,CC),Et(gV,DC),Et(Ja,fV),Ja.prototype.Ba=function(){Ft(this.g,"a")},Ja.prototype.Aa=function(t){Ft(this.g,new pV(t))},Ja.prototype.za=function(t){Ft(this.g,new gV)},Ja.prototype.ya=function(){Ft(this.g,"b")},Et(dr,function kre(){this.blockSize=-1}),dr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},dr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)LC(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){LC(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){LC(this,r),i=0;break}}this.h=i,this.i+=e},dr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Ore={};function VC(t){return-128<=t&&128>t?function Gne(t,e){var n=Ore;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ce([0|e],0>e?-1:0)}):new Ce([0|t],0>t?-1:0)}function Or(t){if(isNaN(t)||!isFinite(t))return eu;if(0>t)return Lt(Or(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=UC;return new Ce(e,0)}var UC=4294967296,eu=VC(0),BC=VC(1),_V=VC(16777216);function _i(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Qn(t){return-1==t.h}function Lt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(BC)}function bg(t,e){return t.add(Lt(e))}function Rg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function nd(t,e){this.g=t,this.h=e}function Pg(t,e){if(_i(e))throw Error("division by zero");if(_i(t))return new nd(eu,eu);if(Qn(t))return e=Pg(Lt(t),e),new nd(Lt(e.g),Lt(e.h));if(Qn(e))return e=Pg(t,Lt(e)),new nd(Lt(e.g),e.h);if(30<t.g.length){if(Qn(t)||Qn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=BC,r=e;0>=r.X(t);)n=yV(n),r=yV(r);var i=tu(n,1),s=tu(r,1);for(r=tu(r,2),n=tu(n,2);!_i(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=tu(r,1),n=tu(n,1)}return e=bg(t,i.R(e)),new nd(i,e)}for(i=eu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Or(n)).R(e);Qn(o)||0<o.X(t);)o=(s=Or(n-=r)).R(e);_i(s)&&(s=BC),i=i.add(s),t=bg(t,o)}return new nd(i,t)}function yV(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function tu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ce(i,t.h)}(N=Ce.prototype).ea=function(){if(Qn(this))return-Lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:UC+r)*e,e*=UC}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(_i(this))return"0";if(Qn(this))return"-"+Lt(this).toString(t);for(var e=Or(Math.pow(t,6)),n=this,r="";;){var i=Pg(n,e).g,s=((0<(n=bg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(_i(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return Qn(t=bg(this,t))?-1:_i(t)?0:1},N.abs=function(){return Qn(this)?Lt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ce(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(_i(this)||_i(t))return eu;if(Qn(this))return Qn(t)?Lt(this).R(Lt(t)):Lt(Lt(this).R(t));if(Qn(t))return Lt(this.R(Lt(t)));if(0>this.X(_V)&&0>t.X(_V))return Or(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Rg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Rg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Rg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Rg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)},N.gb=function(t){return Pg(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)},Sg.prototype.createWebChannel=Sg.prototype.g,xn.prototype.send=xn.prototype.u,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,pg.NO_ERROR=0,pg.TIMEOUT=8,pg.HTTP_ERROR=6,bL.COMPLETE="complete",PL.EventType=Hl,Hl.OPEN="a",Hl.CLOSE="b",Hl.ERROR="c",Hl.MESSAGE="d",Tt.prototype.listen=Tt.prototype.O,Je.prototype.listenOnce=Je.prototype.P,Je.prototype.getLastError=Je.prototype.Sa,Je.prototype.getLastErrorCode=Je.prototype.Ia,Je.prototype.getStatus=Je.prototype.da,Je.prototype.getResponseJson=Je.prototype.Wa,Je.prototype.getResponseText=Je.prototype.ja,Je.prototype.send=Je.prototype.ha,Je.prototype.setWithCredentials=Je.prototype.Oa,dr.prototype.digest=dr.prototype.l,dr.prototype.reset=dr.prototype.reset,dr.prototype.update=dr.prototype.j,Ce.prototype.add=Ce.prototype.add,Ce.prototype.multiply=Ce.prototype.R,Ce.prototype.modulo=Ce.prototype.gb,Ce.prototype.compare=Ce.prototype.X,Ce.prototype.toNumber=Ce.prototype.ea,Ce.prototype.toString=Ce.prototype.toString,Ce.prototype.getBits=Ce.prototype.D,Ce.fromNumber=Or,Ce.fromString=function mV(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Lt(mV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Or(Math.pow(e,8)),r=eu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Or(Math.pow(e,s)),r=r.R(s).add(Or(o))):r=(r=r.R(n)).add(Or(o))}return r},lr.createWebChannelTransport=function(){return new Sg},lr.getStatEventTarget=function(){return fg()},lr.ErrorCode=pg,lr.EventType=bL,lr.Event=Js,lr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lr.FetchXmlHttpFactory=Xl,lr.WebChannel=PL,lr.XhrIo=Je,lr.Md5=dr;var Fre=lr.Integer=Ce;const vV="@firebase/firestore";class wt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");let rd="10.5.2";const Xi=new Lp("@firebase/firestore");function C(t,...e){if(Xi.logLevel<=_e.DEBUG){const n=e.map($C);Xi.debug(`Firestore (${rd}): ${t}`,...n)}}function ot(t,...e){if(Xi.logLevel<=_e.ERROR){const n=e.map($C);Xi.error(`Firestore (${rd}): ${t}`,...n)}}function $C(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function k(t="Unexpected state"){const e=`FIRESTORE (${rd}) INTERNAL ASSERTION FAILED: `+t;throw ot(e),new Error(e)}function V(t,e){t||k()}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class w extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class IV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class Vre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ure{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new yt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(M(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(V("string"==typeof r.accessToken),new IV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return V(null===e||"string"==typeof e),new wt(e)}}class Bre{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $re{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Bre(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jre{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(V("string"==typeof n.token),this.R=n.token,new EV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class TV{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Gre(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function K(t,e){return t<e?-1:t>e?1:0}class Ng{constructor(e,n,r){void 0===n?n=0:n>e.length&&k(),void 0===r?r=e.length-n:r>e.length-n&&k(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ng.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ng?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class de extends Ng{construct(e,n,r){return new de(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new w(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new de(n)}static emptyPath(){return new de([])}}class R{constructor(e){this.path=e}static fromPath(e){return new R(de.fromString(e))}static fromName(e){return new R(de.fromString(e).popFirst(5))}static empty(){return new R(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===de.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new de(e.slice()))}}function Ji(t){return"IndexedDbTransactionError"===t.name}class Fe{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kg(this.root,e,this.comparator,!1)}getReverseIterator(){return new kg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kg(this.root,e,this.comparator,!0)}}class kg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=i??Vt.EMPTY,this.right=s??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();const e=this.left.check();if(e!==this.right.check())throw k();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1,Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class be{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LV(this.data.getIterator())}getIteratorFrom(e){return new LV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new be(this.comparator);return n.data=e,n}}class LV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class VV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new VV("Invalid base64 string: "+s):s}}(e);return new vt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function et(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}vt.EMPTY_BYTE_STRING=new vt("");class mie{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class oo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oo&&e.projectId===this.projectId&&e.database===this.database}}var ht,he;new Fe(R.comparator),new Fe(R.comparator),new Fe(R.comparator),new be(R.comparator),new be(K),(he=ht||(ht={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS",new Fre([4294967295,4294967295],0);class go{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(et(e.integerValue));else if("doubleValue"in e){const r=et(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),function od(t){return 0===t&&1/t==-1/0}(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(function yi(t){return"string"==typeof t?vt.fromBase64String(t):vt.fromUint8Array(t)}(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?function jV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):k()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),R.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}go.St=new go,new Uint8Array(0);class qt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function om(){return typeof document<"u"?document:null}qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(41943040,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);class MD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class ZD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ZD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new w(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class Soe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=TV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=M(function*(a){C("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return M(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new w(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(M(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=function Su(t,e){if(ot("AsyncQueue",`${e}: ${t}`),Ji(t))return new w(I.UNAVAILABLE,`${e}: ${t}`);throw t}(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function oB(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const aB=new Map;function ue(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new w(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function fm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":k()}(t);throw new w(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class dB{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new w(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new w(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Voe(t,e,n,r){if(!0===e&&!0===r)throw new w(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=oB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new w(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new w(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new w(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new w(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new w(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dB(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Lre;switch(r.type){case"firstParty":return new $re(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new w(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aB.get(n);r&&(C("ComponentProvider","Removing Datastore"),aB.delete(n),r.terminate())}(this),Promise.resolve()}}class $oe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new MD(this,"async_queue_retry"),this.iu=()=>{const n=om();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=om();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=om();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new yt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return M(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Ji(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,ot("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=ZD.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&k()}verifyOperationInProgress(){}uu(){var e=this;return M(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Le extends Od{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $oe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function fB(t){var e,n,r;const i=t._freezeSettings(),s=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new mie(t._databaseId,u,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,oB(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;t._firestoreClient=new Soe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function Goe(t,e){const r="string"==typeof t?t:e||"(default)",i=NE("object"==typeof t?t:xE(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=R1("firestore");s&&function Uoe(t,e,n,r={}){var i;const s=(t=ue(t,Od))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&function Yn(t,...e){if(Xi.logLevel<=_e.WARN){const n=e.map($C);Xi.warn(`Firestore (${rd}): ${t}`,...n)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=wt.MOCK_USER;else{a=N1(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new w(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wt(c)}t._authCredentials=new Vre(new IV(a,u))}}(i,...s)}return i}!function(e,n=!0){rd=El,qs(new zi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Le(new Ure(r.getProvider("auth-internal")),new jre(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new w(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oo(c.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),cn(vV,"4.3.2",e),cn(vV,"4.3.2","esm2017")}();class KA{constructor(e){return e}}const OB="firestore",QA=new L("angularfire2.firestore-instances");function _ae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new KA(r)}}const yae={provide:class gae{constructor(){return jp(OB)}},deps:[[new $t,QA]]},vae={provide:KA,useFactory:function mae(t,e){const n=LE(OB,t,e);return n&&new KA(n)},deps:[[new $t,QA],qa]};let Iae=(()=>{class t{constructor(){cn("angularfire",$p.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=vr({type:t});static \u0275inj=Jn({providers:[vae,yae]})}return t})();function Eae(t,...e){return{ngModule:Iae,providers:[{provide:QA,useFactory:_ae(t),multi:!0,deps:[Ie,rn,VE,BE,[new $t,Zw],[new $t,Z1],...e]}]}}const Tae=UE(Goe,!0),FB="@firebase/database";let YA="";class wae{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ot(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:Il(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Cae{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return li(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const UB=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wae(e)}}catch{}return new Cae},To=UB("localStorage"),XA=UB("sessionStorage"),Vu=new Lp("@firebase/database"),BB=function(){let t=1;return function(){return t++}}(),$B=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,P(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new yZ;n.update(e);const r=n.digest();return yE.encodeByteArray(r)},jd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=jd.apply(null,r):e+="object"==typeof r?Ot(r):r,e+=" "}return e};let wo=null,jB=!0;const At=function(...t){if(!0===jB&&(jB=!1,null===wo&&!0===XA.get("logging_enabled")&&function(t,e){P(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Vu.logLevel=_e.VERBOSE,wo=Vu.log.bind(Vu),e&&XA.set("logging_enabled",!0)):"function"==typeof t?wo=t:(wo=null,XA.remove("logging_enabled"))}(!0)),wo){const e=jd.apply(null,t);wo(e)}},Gd=function(t){return function(...e){At(t,...e)}},ZA=function(...t){const e="FIREBASE INTERNAL ERROR: "+jd(...t);Vu.error(e)},$r=function(...t){const e=`FIREBASE FATAL ERROR: ${jd(...t)}`;throw Vu.error(e),new Error(e)},Yt=function(...t){const e="FIREBASE WARNING: "+jd(...t);Vu.warn(e)},Cm=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},fs="[MIN_NAME]",Ci="[MAX_NAME]",Co=function(t,e){if(t===e)return 0;if(t===fs||e===Ci)return-1;if(e===fs||t===Ci)return 1;{const n=WB(t),r=WB(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Sae=function(t,e){return t===e?0:t<e?-1:1},Hd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ot(e))},JA=function(t){if("object"!=typeof t||null===t)return Ot(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Ot(e[r]),n+=":",n+=JA(t[e[r]]);return n+="}",n},HB=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function St(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const zB=function(t){P(!Cm(t),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const c=[];for(u=52;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const l=c.join("");let d="";for(u=0;u<64;u+=8){let h=parseInt(l.substr(u,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Nae=new RegExp("^-?(0*)\\d{1,10}$"),WB=function(t){if(Nae.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Uu=function(t){try{t()}catch(e){setTimeout(()=>{throw Yt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},zd=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Oae{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Yt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Fae{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(At("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yt(e)}}let Wd=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const XB=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,e$="websocket",t$="long_polling";class tS{constructor(e,n,r,i,s=!1,o="",a=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=To.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&To.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function n$(t,e,n){let r;if(P("string"==typeof e,"typeof type must == string"),P("object"==typeof n,"typeof params must == object"),e===e$)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==t$)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function Lae(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return St(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Vae{constructor(){this.counters_={}}incrementCounter(e,n=1){li(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return tZ(this.counters_)}}const nS={},rS={};function iS(t){const e=t.toString();return nS[e]||(nS[e]=new Vae),nS[e]}class Bae{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Uu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ps{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gd(e),this.stats_=iS(n),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),n$(n,t$,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Bae(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new sS((...s)=>{const[o,a,u,c,l]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&XB.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ps.forceAllow_=!0}static forceDisallow(){ps.forceDisallow_=!0}static isAvailable(){return!(!ps.forceAllow_&&(ps.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ot(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=S1(n),i=HB(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ot(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class sS{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=BB(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=sS.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){At("frame writing exception"),a.stack&&At(a.stack),At(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||At("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{At("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Am=null;typeof MozWebSocket<"u"?Am=MozWebSocket:typeof WebSocket<"u"&&(Am=WebSocket);let Bu=(()=>{class t{constructor(n,r,i,s,o,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gd(this.connId),this.stats_=iS(r),this.connURL=t.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&XB.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),n$(n,e$,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,To.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Am(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Am&&!t.forceDisallow_}static previouslyFailed(){return To.isInMemoryStorage||!0===To.get("previous_websocket_failure")}markConnectionHealthy(){To.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Il(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(P(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Ot(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=HB(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),c$=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[ps,Bu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Bu&&Bu.isAvailable();let i=r&&!Bu.previouslyFailed();if(n.webSocketOnly&&(r||Yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Bu];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class m${constructor(e,n,r,i,s,o,a,u,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gd("c:"+this.id+":"),this.transportManager_=new c$(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=zd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Hd("t",e),r=Hd("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Hd("t",e),r=Hd("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Hd("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?ZA("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ZA("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),zd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(To.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class _${put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class y${constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){P(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Sm extends y${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!vE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Sm}getInitialEvent(e){return P("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ee{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function pe(){return new Ee("")}function re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gs(t){return t.pieces_.length-t.pieceNum_}function Pe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ee(t.pieces_,e)}function aS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function qd(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function E$(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ee(e,0)}function qe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ee)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ee(n,0)}function ie(t){return t.pieceNum_>=t.pieces_.length}function hn(t,e){const n=re(t),r=re(e);if(null===n)return e;if(n===r)return hn(Pe(t),Pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function uS(t,e){if(gs(t)!==gs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Xn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(gs(t)>gs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class cue{constructor(e,n){this.errorPrefix_=n,this.parts_=qd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fp(this.parts_[r]);T$(this)}}function T$(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Do(t))}function Do(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class cS extends y${constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new cS}getInitialEvent(e){return P("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Kd=1e3;let Rm,Ao=(()=>{class t extends _${constructor(n,r,i,s,o,a,u,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Gd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Kd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cS.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Sm.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Ot(o)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new xp,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),P(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,u=>{const c=u.d,l=u.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),"ok"!==l&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&li(n,"w")){const i=Ga(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=Mp(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=Mp(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),P(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ot(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):ZA("Unrecognized action received from server: "+Ot(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Kd,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Kd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Kd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return M(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let u=!1,c=null;const l=function(){c?c.close():(u=!0,s())};n.realtime_={close:l,sendRequest:function(f){P(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);u?At("getToken() completed but was canceled"):(At("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,c=new m$(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,g=>{Yt(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),u||(n.repoInfo_.nodeAdmin&&Yt(f),l())}}})()}interrupt(n){At("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){At("Resuming connection for reason: "+n),delete this.interruptReasons_[n],M1(this.interruptReasons_)&&(this.reconnectDelay_=Kd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>JA(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new Ee(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){At("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){At("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+YA.replace(/\./g,"-")]=1,vE()?n["framework.cordova"]=1:x1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Sm.getInstance().currentlyOnline();return M1(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class se{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new se(e,n)}}class bm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new se(fs,e),i=new se(fs,n);return 0!==this.compare(r,i)}minPost(){return se.MIN}}class D$ extends bm{static get __EMPTY_NODE(){return Rm}static set __EMPTY_NODE(e){Rm=e}compare(e,n){return Co(e.name,n.name)}isDefinedOn(e){throw ja("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return se.MIN}maxPost(){return new se(Ci,Rm)}makePost(e,n){return P("string"==typeof e,"KeyIndex indexValue must always be a string."),new se(e,Rm)}toString(){return".key"}}const jr=new D$;class Pm{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let dS,fr=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Cn.EMPTY_NODE,this.right=o??Cn.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Cn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Cn{constructor(e,n=Cn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Cn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,fr.BLACK,null,null))}remove(e){return new Cn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,fr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Pm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Pm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Pm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Pm(this.root_,null,this.comparator_,!0,e)}}function _ue(t,e){return Co(t.name,e.name)}function lS(t,e){return Co(t,e)}Cn.EMPTY_NODE=new class mue{copy(e,n,r,i,s){return this}insert(e,n,r){return new fr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const A$=function(t){return"number"==typeof t?"number:"+zB(t):"string:"+t},S$=function(t){if(t.isLeafNode()){const e=t.val();P("string"==typeof e||"number"==typeof e||"object"==typeof e&&li(e,".sv"),"Priority must be a string or number.")}else P(t===dS||t.isEmpty(),"priority of unexpected type.");P(t===dS||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let b$,R$,P$,$u=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,P(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),S$(this.priorityNode_)}static set __childrenNodeConstructor(n){b$=n}static get __childrenNodeConstructor(){return b$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ie(n)?this:".priority"===re(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=re(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(P(".priority"!==i||1===gs(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+A$(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?zB(this.value_):this.value_,this.lazyHash_=$B(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(P(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return P(s>=0,"Unknown leaf type: "+r),P(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Ve=new class Eue extends bm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?Co(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return se.MIN}maxPost(){return new se(Ci,new $u("[PRIORITY-POST]",P$))}makePost(e,n){const r=R$(e);return new se(n,new $u("[PRIORITY-POST]",r))}toString(){return".priority"}},Tue=Math.log(2);class wue{constructor(e){this.count=parseInt(Math.log(e+1)/Tue,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Nm=function(t,e,n,r){t.sort(e);const i=function(u,c){const l=c-u;let d,h;if(0===l)return null;if(1===l)return d=t[u],h=n?n(d):d,new fr(h,d.node,fr.BLACK,null,null);{const f=parseInt(l/2,10)+u,p=i(u,f),g=i(f+1,c);return d=t[f],h=n?n(d):d,new fr(h,d.node,fr.BLACK,p,g)}},a=function(u){let c=null,l=null,d=t.length;const h=function(p,g){const m=d-p,v=d;d-=p;const _=i(m+1,v),E=t[m],D=n?n(E):E;f(new fr(D,E.node,g,null,_))},f=function(p){c?(c.left=p,c=p):(l=p,c=p)};for(let p=0;p<u.count;++p){const g=u.nextBitIsOne(),m=Math.pow(2,u.count-(p+1));g?h(m,fr.BLACK):(h(m,fr.BLACK),h(m,fr.RED))}return l}(new wue(t.length));return new Cn(r||e,a)};let hS;const ju={};class Di{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return P(ju&&Ve,"ChildrenNode.ts has not been loaded"),hS=hS||new Di({".priority":ju},{".priority":Ve}),hS}get(e){const n=Ga(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Cn?n:null}hasIndex(e){return li(this.indexSet_,e.toString())}addIndex(e,n){P(e!==jr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(se.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Nm(r,e.getCompare()):ju;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const l=Object.assign({},this.indexes_);return l[u]=a,new Di(l,c)}addToIndexes(e,n){const r=kp(this.indexes_,(i,s)=>{const o=Ga(this.indexSet_,s);if(P(o,"Missing index implementation for "+s),i===ju){if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(se.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Nm(a,o.getCompare())}return ju}{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new se(e.name,a))),u.insert(e,e.node)}});return new Di(r,this.indexSet_)}removeFromIndexes(e,n){const r=kp(this.indexes_,i=>{if(i===ju)return i;{const s=n.get(e.name);return s?i.remove(new se(e.name,s)):i}});return new Di(r,this.indexSet_)}}let Qd,ee=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&S$(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qd||(Qd=new t(new Cn(lS),null,Di.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qd}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Qd:r}}getChild(n){const r=re(n);return null===r?this:this.getImmediateChild(r).getChild(Pe(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(P(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new se(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Qd:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=re(n);if(null===i)return r;{P(".priority"!==re(n)||1===gs(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Pe(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Ve,(a,u)=>{r[a]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+A$(this.getPriority().val())+":"),this.forEachChild(Ve,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":$B(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new se(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new se(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new se(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,se.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,se.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Yd?-1:0}withIndex(n){if(n===jr||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===jr||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Ve),s=r.getIterator(Ve);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===jr?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Yd=new class Cue extends ee{constructor(){super(new Cn(lS),ee.EMPTY_NODE,Di.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(se,{MIN:{value:new se(fs,ee.EMPTY_NODE)},MAX:{value:new se(Ci,Yd)}}),D$.__EMPTY_NODE=ee.EMPTY_NODE,$u.__childrenNodeConstructor=ee,function yue(t){dS=t}(Yd),function Iue(t){P$=t}(Yd);const Due=!0;function Ye(t,e=null){if(null===t)return ee.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),P(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new $u(t,Ye(e));if(t instanceof Array||!Due){let n=ee.EMPTY_NODE;return St(t,(r,i)=>{if(li(t,r)&&"."!==r.substring(0,1)){const s=Ye(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ye(e))}{const n=[];let r=!1;if(St(t,(o,a)=>{if("."!==o.substring(0,1)){const u=Ye(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new se(o,u)))}}),0===n.length)return ee.EMPTY_NODE;const s=Nm(n,_ue,o=>o.name,lS);if(r){const o=Nm(n,Ve.getCompare());return new ee(s,Ye(e),new Di({".priority":o},{".priority":Ve}))}return new ee(s,Ye(e),Di.Default)}}!function vue(t){R$=t}(Ye);class fS extends bm{constructor(e){super(),this.indexPath_=e,P(!ie(e)&&".priority"!==re(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?Co(e.name,n.name):s}makePost(e,n){const r=Ye(e),i=ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new se(n,i)}maxPost(){const e=ee.EMPTY_NODE.updateChild(this.indexPath_,Yd);return new se(Ci,e)}toString(){return qd(this.indexPath_,0).join("/")}}const pS=new class Aue extends bm{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Co(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(e,n){const r=Ye(e);return new se(n,r)}toString(){return".value"}};function Zd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class mS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fs}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ci}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new mS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function x$(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ve?n="$priority":t.index_===pS?n="$value":t.index_===jr?n="$key":(P(t.index_ instanceof fS,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ot(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ot(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ot(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ot(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ot(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function M$(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Ve&&(e.i=t.index_.toString()),e}class Mm extends _${constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Gd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(P(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Mm.getListenId_(e,r),a={};this.listens_[o]=a;const u=x$(e._queryParams);this.restRequest_(s+".json",u,(c,l)=>{let d=l;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),Ga(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,n){const r=Mm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=x$(e._queryParams),r=e._path.toString(),i=new xp;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+EE(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=Il(a.responseText)}catch{Yt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&Yt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class kue{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function km(){return{value:null,children:new Map}}function Hu(t,e,n){if(ie(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=re(e);t.children.has(r)||t.children.set(r,km()),Hu(t.children.get(r),e=Pe(e),n)}}function IS(t,e,n){null!==t.value?n(e,t.value):function Oue(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{IS(i,new Ee(e.toString()+"/"+r),n)})}class Fue{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&St(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class Uue{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Fue(e);const r=1e4+2e4*Math.random();zd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;St(e,(i,s)=>{s>0&&li(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),zd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Gr=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Gr||{});function wS(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Om{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Gr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ie(this.path)){if(null!=this.affectedTree.value)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ee(e));return new Om(pe(),n,this.revert)}}return P(re(this.path)===e,"operationForChild called for unrelated child."),new Om(Pe(this.path),this.affectedTree,this.revert)}}class So{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Gr.OVERWRITE}operationForChild(e){return ie(this.path)?new So(this.source,pe(),this.snap.getImmediateChild(e)):new So(this.source,Pe(this.path),this.snap)}}class zu{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Gr.MERGE}operationForChild(e){if(ie(this.path)){const n=this.children.subtree(new Ee(e));return n.isEmpty()?null:n.value?new So(this.source,pe(),n.value):new zu(this.source,pe(),n)}return P(re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new zu(this.source,Pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ms{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ie(e))return this.isFullyInitialized()&&!this.filtered_;const n=re(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function th(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,u)=>function Gue(t,e,n){if(null==e.childName||null==n.childName)throw ja("Should only compare child_ events.");const r=new se(e.childName,e.snapshotNode),i=new se(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,u)),o.forEach(a=>{const u=function jue(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,t.query_))})})}function Fm(t,e){return{eventCache:t,serverCache:e}}function nh(t,e,n,r){return Fm(new ms(e,n,r),t.serverCache)}function O$(t,e,n,r){return Fm(t.eventCache,new ms(e,n,r))}function Lm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function bo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let CS;class Ue{constructor(e,n=(()=>(CS||(CS=new Cn(Sae)),CS))()){this.value=e,this.children=n}static fromObject(e){let n=new Ue(null);return St(e,(r,i)=>{n=n.set(new Ee(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:pe(),value:this.value};if(ie(e))return null;{const r=re(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Pe(e),n);return null!=s?{path:qe(new Ee(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ie(e))return this;{const n=re(e),r=this.children.get(n);return null!==r?r.subtree(Pe(e)):new Ue(null)}}set(e,n){if(ie(e))return new Ue(n,this.children);{const r=re(e),s=(this.children.get(r)||new Ue(null)).set(Pe(e),n),o=this.children.insert(r,s);return new Ue(this.value,o)}}remove(e){if(ie(e))return this.children.isEmpty()?new Ue(null):new Ue(null,this.children);{const n=re(e),r=this.children.get(n);if(r){const i=r.remove(Pe(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new Ue(null):new Ue(this.value,s)}return this}}get(e){if(ie(e))return this.value;{const n=re(e),r=this.children.get(n);return r?r.get(Pe(e)):null}}setTree(e,n){if(ie(e))return n;{const r=re(e),s=(this.children.get(r)||new Ue(null)).setTree(Pe(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Ue(this.value,o)}}fold(e){return this.fold_(pe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(qe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,pe(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(ie(e))return null;{const s=re(e),o=this.children.get(s);return o?o.findOnPath_(Pe(e),qe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,pe(),n)}foreachOnPath_(e,n,r){if(ie(e))return this;{this.value&&r(n,this.value);const i=re(e),s=this.children.get(i);return s?s.foreachOnPath_(Pe(e),qe(n,i),r):new Ue(null)}}foreach(e){this.foreach_(pe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(qe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class pr{constructor(e){this.writeTree_=e}static empty(){return new pr(new Ue(null))}}function rh(t,e,n){if(ie(e))return new pr(new Ue(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=hn(i,e);return s=s.updateChild(o,n),new pr(t.writeTree_.set(i,s))}{const i=new Ue(n),s=t.writeTree_.setTree(e,i);return new pr(s)}}}function DS(t,e,n){let r=t;return St(n,(i,s)=>{r=rh(r,qe(e,i),s)}),r}function F$(t,e){if(ie(e))return pr.empty();{const n=t.writeTree_.setTree(e,new Ue(null));return new pr(n)}}function AS(t,e){return null!=Ro(t,e)}function Ro(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(hn(n.path,e)):null}function L$(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ve,(r,i)=>{e.push(new se(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new se(r,i.value))}),e}function _s(t,e){if(ie(e))return t;{const n=Ro(t,e);return new pr(null!=n?new Ue(n):t.writeTree_.subtree(e))}}function SS(t){return t.writeTree_.isEmpty()}function Wu(t,e){return V$(pe(),t.writeTree_,e)}function V$(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(P(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=V$(qe(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(qe(t,".priority"),r)),n}}function Vm(t,e){return G$(e,t)}function Que(t,e){if(t.snap)return Xn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Xn(qe(t.path,n),e))return!0;return!1}function Xue(t){return t.visible}function U$(t,e,n){let r=pr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Xn(n,o)?(a=hn(n,o),r=rh(r,a,s.snap)):Xn(o,n)&&(a=hn(o,n),r=rh(r,pe(),s.snap.getChild(a)));else{if(!s.children)throw ja("WriteRecord should have .snap or .children");if(Xn(n,o))a=hn(n,o),r=DS(r,a,s.children);else if(Xn(o,n))if(a=hn(o,n),ie(a))r=DS(r,pe(),s.children);else{const u=Ga(s.children,re(a));if(u){const c=u.getChild(Pe(a));r=rh(r,pe(),c)}}}}}return r}function B$(t,e,n,r,i){if(r||i){const s=_s(t.visibleWrites,e);return!i&&SS(s)?n:i||null!=n||AS(s,pe())?Wu(U$(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Xn(c.path,e)||Xn(e,c.path))},e),n||ee.EMPTY_NODE):null}{const s=Ro(t.visibleWrites,e);if(null!=s)return s;{const o=_s(t.visibleWrites,e);return SS(o)?n:null!=n||AS(o,pe())?Wu(o,n||ee.EMPTY_NODE):null}}}function Um(t,e,n,r){return B$(t.writeTree,t.treePath,e,n,r)}function bS(t,e){return function Zue(t,e,n){let r=ee.EMPTY_NODE;const i=Ro(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ve,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=_s(t.visibleWrites,e);return n.forEachChild(Ve,(o,a)=>{const u=Wu(_s(s,new Ee(o)),a);r=r.updateImmediateChild(o,u)}),L$(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return L$(_s(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function $$(t,e,n,r){return function Jue(t,e,n,r,i){P(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=qe(e,n);if(AS(t.visibleWrites,s))return null;{const o=_s(t.visibleWrites,s);return SS(o)?i.getChild(n):Wu(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function Bm(t,e){return function tce(t,e){return Ro(t.visibleWrites,e)}(t.writeTree,qe(t.treePath,e))}function RS(t,e,n){return function ece(t,e,n,r){const i=qe(e,n),s=Ro(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Wu(_s(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function j$(t,e){return G$(qe(t.treePath,e),t.writeTree)}function G$(t,e){return{treePath:t,writeTree:e}}class sce{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;P("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),P(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,Zd(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function Xd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function Gu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw ja("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Zd(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const H$=new class oce{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class PS{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new ms(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return RS(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:bo(this.viewCache_),s=function ice(t,e,n,r,i,s){return function nce(t,e,n,r,i,s,o){let a;const u=_s(t.visibleWrites,e),c=Ro(u,pe());if(null!=c)a=c;else{if(null==n)return[];a=Wu(u,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const l=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&l.length<i;)0!==d(f,r)&&l.push(f),f=h.getNext();return l}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function z$(t,e,n,r,i,s){const o=e.eventCache;if(null!=Bm(r,n))return e;{let a,u;if(ie(n))if(P(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=bo(e),d=bS(r,c instanceof ee?c:ee.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Um(r,bo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=re(n);if(".priority"===c){P(1===gs(n),"Can't have a priority with additional path components");const l=o.getNode();u=e.serverCache.getNode();const d=$$(r,n,l,u);a=null!=d?t.filter.updatePriority(l,d):o.getNode()}else{const l=Pe(n);let d;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const h=$$(r,n,o.getNode(),u);d=null!=h?o.getNode().getImmediateChild(c).updateChild(l,h):o.getNode().getImmediateChild(c)}else d=RS(r,c,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),c,d,l,i,s):o.getNode()}}return nh(e,a,o.isFullyInitialized()||ie(n),t.filter.filtersNodes())}}function $m(t,e,n,r,i,s,o,a){const u=e.serverCache;let c;const l=o?t.filter:t.filter.getIndexedFilter();if(ie(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){const f=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),f,null)}else{const f=re(n);if(!u.isCompleteForPath(n)&&gs(n)>1)return e;const p=Pe(n),m=u.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?l.updatePriority(u.getNode(),m):l.updateChild(u.getNode(),f,m,p,H$,null)}const d=O$(e,c,u.isFullyInitialized()||ie(n),l.filtersNodes());return z$(t,d,n,i,new PS(i,d,s),a)}function NS(t,e,n,r,i,s,o){const a=e.eventCache;let u,c;const l=new PS(i,e,s);if(ie(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=nh(e,c,!0,t.filter.filtersNodes());else{const d=re(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),u=nh(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Pe(n),f=a.getNode().getImmediateChild(d);let p;if(ie(h))p=r;else{const g=l.getCompleteChild(d);p=null!=g?".priority"===aS(h)&&g.getChild(E$(h)).isEmpty()?g:g.updateChild(h,r):ee.EMPTY_NODE}u=f.equals(p)?e:nh(e,t.filter.updateChild(a.getNode(),d,p,h,l,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return u}function W$(t,e){return t.eventCache.isCompleteForChild(e)}function q$(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function xS(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,u=e;c=ie(n)?r:new Ue(null).setTree(n,r);const l=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){const p=q$(0,e.serverCache.getNode().getImmediateChild(d),h);u=$m(t,u,new Ee(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!l.hasChild(d)&&!f){const g=q$(0,e.serverCache.getNode().getImmediateChild(d),h);u=$m(t,u,new Ee(d),g,i,s,o,a)}}),u}function yce(t,e){const n=bo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ie(e)&&!n.getImmediateChild(re(e)).isEmpty())?n.getChild(e):null}function Y$(t,e,n,r){e.type===Gr.MERGE&&null!==e.source.queryId&&(P(bo(t.viewCache_),"We should always have a full cache before handling merges"),P(Lm(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function cce(t,e,n,r,i){const s=new sce;let o,a;if(n.type===Gr.OVERWRITE){const c=n;c.source.fromUser?o=NS(t,e,c.path,c.snap,r,i,s):(P(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ie(c.path),o=$m(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Gr.MERGE){const c=n;c.source.fromUser?o=function dce(t,e,n,r,i,s,o){let a=e;return r.foreach((u,c)=>{const l=qe(n,u);W$(e,re(l))&&(a=NS(t,a,l,c,i,s,o))}),r.foreach((u,c)=>{const l=qe(n,u);W$(e,re(l))||(a=NS(t,a,l,c,i,s,o))}),a}(t,e,c.path,c.children,r,i,s):(P(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=xS(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Gr.ACK_USER_WRITE){const c=n;o=c.revert?function pce(t,e,n,r,i,s){let o;if(null!=Bm(r,n))return e;{const a=new PS(r,e,i),u=e.eventCache.getNode();let c;if(ie(n)||".priority"===re(n)){let l;if(e.serverCache.isFullyInitialized())l=Um(r,bo(e));else{const d=e.serverCache.getNode();P(d instanceof ee,"serverChildren would be complete if leaf node"),l=bS(r,d)}c=t.filter.updateFullNode(u,l,s)}else{const l=re(n);let d=RS(r,l,e.serverCache);null==d&&e.serverCache.isCompleteForChild(l)&&(d=u.getImmediateChild(l)),c=null!=d?t.filter.updateChild(u,l,d,Pe(n),a,s):e.eventCache.getNode().hasChild(l)?t.filter.updateChild(u,l,ee.EMPTY_NODE,Pe(n),a,s):u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Um(r,bo(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Bm(r,pe()),nh(e,c,o,t.filter.filtersNodes())}}(t,e,c.path,r,i,s):function hce(t,e,n,r,i,s,o){if(null!=Bm(i,n))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(ie(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return $m(t,e,n,u.getNode().getChild(n),i,s,a,o);if(ie(n)){let c=new Ue(null);return u.getNode().forEachChild(jr,(l,d)=>{c=c.set(new Ee(l),d)}),xS(t,e,n,c,i,s,a,o)}return e}{let c=new Ue(null);return r.foreach((l,d)=>{const h=qe(n,l);u.isCompleteForPath(h)&&(c=c.set(l,u.getNode().getChild(h)))}),xS(t,e,n,c,i,s,a,o)}}(t,e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Gr.LISTEN_COMPLETE)throw ja("Unknown operation type: "+n.type);o=function fce(t,e,n,r,i){const s=e.serverCache;return z$(t,O$(e,s.getNode(),s.isFullyInitialized()||ie(n),s.isFiltered()),n,r,H$,i)}(t,e,n.path,r,s)}const u=s.getChanges();return function lce(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Lm(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function N$(t){return{type:"value",snapshotNode:t}}(Lm(e)))}}(e,o,u),{viewCache:o,changes:u}}(t.processor_,i,e,n,r);return function uce(t,e){P(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),P(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),P(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function X$(t,e,n,r){return function $ue(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Sue(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),th(t,i,"child_removed",e,r,n),th(t,i,"child_added",e,r,n),th(t,i,"child_moved",s,r,n),th(t,i,"child_changed",e,r,n),th(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let jm,Hm;function MS(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return P(null!=s,"SyncTree gave us an op for an invalid query."),Y$(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(Y$(o,e,n,r));return s}}function ys(t,e){let n=null;for(const r of t.views.values())n=n||yce(r,e);return n}class rj{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=function rce(){return{visibleWrites:pr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function kS(t,e,n,r,i){return function zue(t,e,n,r,i){P(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=rh(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?qu(t,new So({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Is(t,e,n=!1){const r=function que(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function Kue(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);P(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Que(a,r.path)?i=!1:Xn(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function Yue(t){t.visibleWrites=U$(t.allWrites,Xue,pe()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=F$(t.visibleWrites,r.path):St(r.children,u=>{t.visibleWrites=F$(t.visibleWrites,qe(r.path,u))}),!0))}(t.pendingWriteTree_,e)){let s=new Ue(null);return null!=r.snap?s=s.set(pe(),!0):St(r.children,o=>{s=s.set(new Ee(o),!0)}),qu(t,new Om(r.path,s,n))}return[]}function ih(t,e,n){return qu(t,new So({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Wm(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=ys(a,hn(o,e));if(c)return c});return B$(i,e,s,n,!0)}function qu(t,e){return sj(e,t.syncPointTree_,null,Vm(t.pendingWriteTree_,pe()))}function sj(t,e,n,r){if(ie(t.path))return oj(t,e,n,r);{const i=e.get(pe());null==n&&null!=i&&(n=ys(i,pe()));let s=[];const o=re(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const c=n?n.getImmediateChild(o):null,l=j$(r,o);s=s.concat(sj(a,u,c,l))}return i&&(s=s.concat(MS(i,t,r,n))),s}}function oj(t,e,n,r){const i=e.get(pe());null==n&&null!=i&&(n=ys(i,pe()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,c=j$(r,o),l=t.operationForChild(o);l&&(s=s.concat(oj(l,a,u,c)))}),i&&(s=s.concat(MS(i,t,r,n))),s}function FS(t,e){return t.tagToQueryMap.get(e)}function LS(t){const e=t.indexOf("$");return P(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ee(t.substr(0,e))}}function VS(t,e,n){const r=t.syncPointTree_.get(e);return P(r,"Missing sync point for query tag that we're tracking"),MS(r,n,Vm(t.pendingWriteTree_,e),null)}class US{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new US(n)}node(){return this.node_}}class BS{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=qe(this.path_,e);return new BS(this.syncTree_,n)}node(){return Wm(this.syncTree_,this.path_)}}const Uce=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},uj=function(t,e,n){return t&&"object"==typeof t?(P(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Bce(t[".sv"],e,n):"object"==typeof t[".sv"]?$ce(t[".sv"],e):void P(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Bce=function(t,e,n){if("timestamp"===t)return n.timestamp;P(!1,"Unexpected server value: "+t)},$ce=function(t,e,n){t.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&P(!1,"Unexpected increment value: "+r);const i=e.node();if(P(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},cj=function(t,e,n,r){return jS(e,new BS(n,t),r)},$S=function(t,e,n){return jS(t,new US(e),n)};function jS(t,e,n){const r=t.getPriority().val(),i=uj(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=uj(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new $u(a,Ye(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new $u(i))),o.forEachChild(Ve,(a,u)=>{const c=jS(u,e.getImmediateChild(a),n);c!==u&&(s=s.updateImmediateChild(a,c))}),s}}class GS{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Km(t,e){let n=e instanceof Ee?e:new Ee(e),r=t,i=re(n);for(;null!==i;){const s=Ga(r.node.children,i)||{children:{},childCount:0};r=new GS(i,r,s),n=Pe(n),i=re(n)}return r}function Po(t){return t.node.value}function HS(t,e){t.node.value=e,zS(t)}function lj(t){return t.node.childCount>0}function Qm(t,e){St(t.node.children,(n,r)=>{e(new GS(n,t,r))})}function dj(t,e,n,r){n&&!r&&e(t),Qm(t,i=>{dj(i,e,!0,r)}),n&&r&&e(t)}function ah(t){return new Ee(null===t.parent?t.name:ah(t.parent)+"/"+t.name)}function zS(t){null!==t.parent&&function Hce(t,e,n){const r=function jce(t){return void 0===Po(t)&&!lj(t)}(n),i=li(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,zS(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,zS(t))}(t.parent,t.name,t)}const zce=/[\[\].#$\/\u0000-\u001F\u007F]/,Wce=/[\[\].#$\u0000-\u001F\u007F]/,WS=10485760,Ym=function(t){return"string"==typeof t&&0!==t.length&&!zce.test(t)},ch=function(t,e,n){const r=n instanceof Ee?new cue(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Do(r));if("function"==typeof e)throw new Error(t+"contains a function "+Do(r)+" with contents = "+e.toString());if(Cm(e))throw new Error(t+"contains "+e.toString()+" "+Do(r));if("string"==typeof e&&e.length>WS/3&&Fp(e)>WS)throw new Error(t+"contains a string greater than "+WS+" utf8 bytes "+Do(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(St(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Ym(o)))throw new Error(t+" contains an invalid key ("+o+") "+Do(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function lue(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Fp(e),T$(t)})(r,o),ch(t,a,r),function due(t){const e=t.parts_.pop();t.byteLength_-=Fp(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+Do(r)+" in addition to actual children.")}},pj=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ym(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!Wce.test(t)}(t)}(n))throw new Error(function Op(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Yce{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function On(t,e,n){(function Xm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!uS(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function mj(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(Xce(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>Xn(r,e)||Xn(e,r))}function Xce(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();wo&&At("event: "+n.toString()),Uu(r)}}}const Zce=25;class Jce{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yce,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=km(),this.transactionQueueTree_=new GS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yj(t){const n=t.infoData_.getNode(new Ee(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function dh(t){return Uce({timestamp:yj(t)})}function vj(t,e,n,r,i){t.dataUpdateCount++;const s=new Ee(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=kp(n,c=>Ye(c));o=function Mce(t,e,n,r){const i=FS(t,r);if(i){const s=LS(i),o=s.path,a=s.queryId,u=hn(o,e),c=Ue.fromObject(n);return VS(t,o,new zu(wS(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{const u=Ye(n);o=function ij(t,e,n,r){const i=FS(t,r);if(null!=i){const s=LS(i),o=s.path,a=s.queryId,u=hn(o,e);return VS(t,o,new So(wS(a),u,n))}return[]}(t.serverSyncTree_,s,u,i)}else if(r){const u=kp(n,c=>Ye(c));o=function Pce(t,e,n){const r=Ue.fromObject(n);return qu(t,new zu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,u)}else{const u=Ye(n);o=ih(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=Qu(t,s)),On(t.eventQueue_,a,o)}function Ij(t,e){QS(t,"connected",e),!1===e&&function ile(t){Ku(t,"onDisconnectEvents");const e=dh(t),n=km();IS(t.onDisconnect_,pe(),(i,s)=>{const o=cj(i,s,t.serverSyncTree_,e);Hu(n,i,o)});let r=[];IS(n,pe(),(i,s)=>{r=r.concat(ih(t.serverSyncTree_,i,s));const o=function JS(t,e){const n=ah(wj(t,e)),r=Km(t.transactionQueueTree_,e);return function Gce(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{eb(t,i)}),eb(t,r),dj(r,i=>{eb(t,i)}),n}(t,i);Qu(t,o)}),t.onDisconnect_=km(),On(t.eventQueue_,pe(),r)}(t)}function QS(t,e,n){const r=new Ee("/.info/"+e),i=Ye(n);t.infoData_.updateSnapshot(r,i);const s=ih(t.infoSyncTree_,r,i);On(t.eventQueue_,r,s)}function Zm(t){return t.nextWriteId_++}function Ku(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),At(n,...e)}function ZS(t,e,n){return Wm(t.serverSyncTree_,e,n)||ee.EMPTY_NODE}function Jm(t,e=t.transactionQueueTree_){if(e||e_(t,e),Po(e)){const n=Cj(t,e);P(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function dle(t,e,n){const r=n.map(c=>c.currentWriteId),i=ZS(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const l=n[c];P(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;const d=hn(e,l.path);s=s.updateChild(d,l.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,c=>{Ku(t,"transaction put response",{path:u.toString(),status:c});let l=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(Is(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();e_(t,Km(t.transactionQueueTree_,e)),Jm(t,t.transactionQueueTree_),On(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)Uu(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{Yt("transaction at "+u.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Qu(t,e)}},o)}(t,ah(e),n)}else lj(e)&&Qm(e,n=>{Jm(t,n)})}function Qu(t,e){const n=wj(t,e),r=ah(n);return function hle(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],c=hn(n,u.path);let d,l=!1;if(P(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,d=u.abortReason,i=i.concat(Is(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=Zce)l=!0,d="maxretry",i=i.concat(Is(t.serverSyncTree_,u.currentWriteId,!0));else{const h=ZS(t,u.path,o);u.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){ch("transaction failed: Data returned ",f,u.path);let p=Ye(f);"object"==typeof f&&null!=f&&li(f,".priority")||(p=p.updatePriority(h.getPriority()));const m=u.currentWriteId,v=dh(t),_=$S(p,h,v);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=_,u.currentWriteId=Zm(t),o.splice(o.indexOf(m),1),i=i.concat(kS(t.serverSyncTree_,u.path,_,u.currentWriteId,u.applyLocally)),i=i.concat(Is(t.serverSyncTree_,m,!0))}else l=!0,d="nodata",i=i.concat(Is(t.serverSyncTree_,u.currentWriteId,!0))}On(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}e_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Uu(r[a]);Jm(t,t.transactionQueueTree_)}(t,Cj(t,n),r),r}function wj(t,e){let n,r=t.transactionQueueTree_;for(n=re(e);null!==n&&void 0===Po(r);)r=Km(r,n),n=re(e=Pe(e));return r}function Cj(t,e){const n=[];return Dj(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Dj(t,e,n){const r=Po(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Qm(e,i=>{Dj(t,i,n)})}function e_(t,e){const n=Po(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,HS(e,n.length>0?n:void 0)}Qm(e,r=>{e_(t,r)})}function eb(t,e){const n=Po(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(P(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(P(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Is(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?HS(e,void 0):n.length=s+1,On(t.eventQueue_,ah(e),i);for(let o=0;o<r.length;o++)Uu(r[o])}}const tb=function(t,e){const n=gle(t),r=n.namespace;return"firebase.com"===n.domain&&$r(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&$r("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tS(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Ee(n.pathString)}},gle=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let l=t.indexOf("/");-1===l&&(l=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=function fle(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(l,d)));const h=function ple(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Yt(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Fn{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ie(this._path)?null:aS(this._path)}get ref(){return new gr(this._repo,this._path)}get _queryIdentifier(){const e=M$(this._queryParams),n=JA(e);return"{}"===n?"default":n}get _queryObject(){return M$(this._queryParams)}isEqual(e){if(!((e=Ha(e))instanceof Fn))return!1;const n=this._repo===e._repo,r=uS(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function aue(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class gr extends Fn{constructor(e,n){super(e,n,new mS,!1)}get parent(){const e=E$(this._path);return null===e?null:new gr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Ece(t){P(!jm,"__referenceConstructor has already been defined"),jm=t})(gr),function Ace(t){P(!Hm,"__referenceConstructor has already been defined"),Hm=t}(gr);const rb={};class kle{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ele(t,e,n){if(t.stats_=iS(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Mm(t.repoInfo_,(r,i,s,o)=>{vj(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ij(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ot(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ao(t.repoInfo_,e,(r,i,s,o)=>{vj(t,r,i,s,o)},r=>{Ij(t,r)},r=>{!function tle(t,e){St(e,(n,r)=>{QS(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function Uae(t,e){const n=t.toString();return rS[n]||(rS[n]=e()),rS[n]}(t.repoInfo_,()=>new Uue(t.stats_,t.server_)),t.infoData_=new kue,t.infoSyncTree_=new rj({startListening:(r,i,s,o)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=ih(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),QS(t,"connected",!1),t.serverSyncTree_=new rj({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{const c=o(a,u);On(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gr(this._repo,pe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Nle(t,e){const n=rb[e];(!n||n[t.key]!==t)&&$r(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function Tj(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&$r("Cannot call "+e+" on a deleted database.")}}function Ole(t=xE(),e){const n=NE(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=R1("database");r&&function Fle(t,e,n,r={}){(t=Ha(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&$r("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&$r('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Wd(Wd.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:N1(r.mockUserToken,t.app.options.projectId);s=new Wd(o)}!function Ple(t,e,n,r){t.repoInfo_=new tS(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r)}return n}Ao.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ao.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function Lle(t){(function VB(t){YA=t})(El),qs(new zi("database",(e,{instanceIdentifier:n})=>function Mj(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||$r("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),At("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u,c,o=tb(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(u=!0,s=`http://${c}?ns=${a.namespace}`,o=tb(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const l=i&&u?new Wd(Wd.OWNER):new Fae(t.name,t.options,e);pj("Invalid Firebase Database URL",o),ie(o.path)||$r("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function xle(t,e,n,r){let i=rb[e.name];i||(i={},rb[e.name]=i);let s=i[t.toURLString()];return s&&$r("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Jce(t,!1,n,r),i[t.toURLString()]=s,s}(a,t,l,new Oae(t.name,n));return new kle(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),cn(FB,"1.0.1",t),cn(FB,"1.0.1","esm2017")}();class ib{constructor(e){return e}}const Oj="database",sb=new L("angularfire2.database-instances");function jle(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ib(r)}}const Gle={provide:class Ble{constructor(){return jp(Oj)}},deps:[[new $t,sb]]},Hle={provide:ib,useFactory:function $le(t,e){const n=LE(Oj,t,e);return n&&new ib(n)},deps:[[new $t,sb],qa]};let zle=(()=>{class t{constructor(){cn("angularfire",$p.full,"rtdb")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=vr({type:t});static \u0275inj=Jn({providers:[Hle,Gle]})}return t})();function Wle(t,...e){return{ngModule:zle,providers:[{provide:sb,useFactory:jle(t),multi:!0,deps:[Ie,rn,VE,BE,[new $t,Zw],[new $t,Z1],...e]}]}}const qle=UE(Ole,!0);let Kle=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vr({type:t,bootstrap:[ZX]});static#n=this.\u0275inj=Jn({imports:[aQ,XX,YJ(()=>XJ({projectId:"prueba-31fd8",appId:"1:377924073338:web:b4e5388c8a0556fdfc48c3",storageBucket:"prueba-31fd8.appspot.com",apiKey:"AIzaSyBAmkx_3TEsJN2O6W3x3d3U1uD1pd_aXsw",authDomain:"prueba-31fd8.firebaseapp.com",messagingSenderId:"377924073338",measurementId:"G-PD8MKKB0YX"})),Eae(()=>Tae()),Wle(()=>qle())]})}return t})();sQ().bootstrapModule(Kle).catch(t=>console.error(t))}},Se=>{Se(Se.s=649)}]);